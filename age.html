<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VA Driving Clinic - Age and Driving Safety</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --color-primary: #5f17eb;
            --color-primary-light: #8a5feb;
            --color-secondary: #000000;
            --color-bg: #ffffff;
            --color-text: #000000;
            --color-muted: #6b7280;
            --color-success: #10b981;
            --color-warning: #f59e0b;
            --color-error: #ef4444;
            --color-info: #3b82f6;
            --radius-lg: 20px;
            --radius-md: 12px;
            --radius-sm: 8px;
            --shadow-soft: 0 10px 30px rgba(95, 23, 235, 0.1);
            --shadow-hover: 0 15px 35px rgba(95, 23, 235, 0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            color: var(--color-text);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(95, 23, 235, 0.5); }
            50% { box-shadow: 0 0 25px rgba(95, 23, 235, 0.8); }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .lesson-container {
            max-width: 1000px;
            margin: 0 auto;
            animation: fadeIn 0.6s ease-out;
        }

        /* Timer Styles */
        .timer-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            animation: fadeIn 0.5s ease-out;
        }

        .timer {
            background: linear-gradient(135deg, #5f17eb, #7c3aed);
            color: white;
            border-radius: 50px;
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 8px 25px rgba(95, 23, 235, 0.3);
            border: 3px solid rgba(255, 255, 255, 0.2);
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .timer.warning {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            animation: pulse 1s infinite;
        }

        .timer.critical {
            background: linear-gradient(135deg, #ef4444, #f87171);
            animation: blink 0.5s infinite;
        }

        .timer-icon {
            font-size: 1.3rem;
            animation: pulse 2s infinite;
        }

        .timer-display {
            font-family: 'Courier New', monospace;
            font-size: 1.5rem;
            font-weight: 800;
            letter-spacing: 2px;
            min-width: 100px;
            text-align: center;
        }

        .timer-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Stats Display */
        .stats-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 600px) {
            .stats-display { grid-template-columns: 1fr; }
        }

        .stat-card {
            background: rgba(95, 23, 235, 0.05);
            border-radius: var(--radius-md);
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(95, 23, 235, 0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--color-primary);
            box-shadow: 0 10px 25px rgba(95, 23, 235, 0.1);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--color-primary);
            display: block;
            line-height: 1;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--color-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .brand-logo {
            height: 50px;
            width: auto;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .module-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .module-title {
            font-size: 1.1rem;
            color: var(--color-primary);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .lesson-title {
            font-size: 2rem;
            font-weight: 800;
            color: var(--color-text);
            margin-bottom: 10px;
        }

        .time-estimate {
            background: rgba(95, 23, 235, 0.1);
            border: 2px solid rgba(95, 23, 235, 0.2);
            border-radius: var(--radius-md);
            padding: 15px 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .time-estimate-icon {
            font-size: 1.5rem;
            color: var(--color-primary);
        }

        .time-estimate-text {
            font-size: 1rem;
            color: var(--color-text);
            font-weight: 600;
        }

        .time-highlight {
            color: var(--color-primary);
            font-weight: 800;
            font-size: 1.2em;
        }

        .progress-indicator {
            margin: 20px 0 30px;
        }

        .progress-bar {
            height: 8px;
            background: rgba(95, 23, 235, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #5f17eb, #7c3aed);
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--color-muted);
            font-weight: 600;
        }

        .lesson-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .section {
            background: var(--color-bg);
            border-radius: var(--radius-lg);
            padding: 30px;
            box-shadow: var(--shadow-soft);
            border: 1px solid rgba(95, 23, 235, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: slideIn 0.5s ease-out;
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--color-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .section:hover::before {
            opacity: 1;
            animation: glow 2s infinite;
        }

        .section-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--color-primary);
            color: white;
            border-radius: 50%;
            font-weight: 800;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--color-text);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title-icon {
            font-size: 1.2rem;
        }

        .subsection {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(95, 23, 235, 0.1);
        }

        .subsection:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .subsection-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .subsection-content {
            color: var(--color-text);
            margin-bottom: 15px;
            line-height: 1.7;
        }

        .stats-box {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid var(--color-error);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        .stats-title {
            font-weight: 700;
            color: var(--color-error);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stats-content {
            color: var(--color-text);
            font-size: 0.95rem;
        }

        .tips-box {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid var(--color-success);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        .tips-title {
            font-weight: 700;
            color: var(--color-success);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tips-list {
            list-style: none;
            padding-left: 0;
        }

        .tips-list li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .tips-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--color-success);
            font-weight: bold;
        }

        .info-box {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid var(--color-info);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        .info-title {
            font-weight: 700;
            color: var(--color-info);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .age-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .age-card {
            background: rgba(95, 23, 235, 0.05);
            border: 2px solid rgba(95, 23, 235, 0.1);
            border-radius: var(--radius-md);
            padding: 20px;
            transition: all 0.3s ease;
        }

        .age-card:hover {
            border-color: var(--color-primary);
            transform: translateY(-3px);
        }

        .age-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .age-name {
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .age-factors {
            list-style: none;
            padding-left: 0;
            margin-top: 10px;
        }

        .age-factors li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .age-factors li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 8px;
            color: var(--color-primary);
            font-weight: bold;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .comparison-item {
            text-align: center;
            padding: 20px;
            background: rgba(95, 23, 235, 0.05);
            border-radius: var(--radius-md);
        }

        .comparison-value {
            font-size: 2rem;
            font-weight: 900;
            color: var(--color-primary);
            margin-bottom: 5px;
        }

        .comparison-label {
            font-size: 0.9rem;
            color: var(--color-muted);
            font-weight: 600;
        }

        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .strategy-card {
            background: white;
            border: 2px solid rgba(95, 23, 235, 0.1);
            border-radius: var(--radius-md);
            padding: 20px;
            transition: all 0.3s ease;
        }

        .strategy-card:hover {
            border-color: var(--color-primary);
            transform: translateY(-3px);
            box-shadow: var(--shadow-soft);
        }

        .strategy-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--color-primary);
        }

        .strategy-title {
            font-weight: 700;
            color: var(--color-text);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .strategy-list {
            list-style: none;
            padding-left: 0;
            margin-top: 10px;
        }

        .strategy-list li {
            margin-bottom: 6px;
            padding-left: 20px;
            position: relative;
        }

        .strategy-list li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: var(--color-primary);
        }

        .self-assessment {
            background: rgba(245, 158, 11, 0.1);
            border-radius: var(--radius-md);
            padding: 25px;
            margin: 30px 0;
            border-left: 4px solid var(--color-warning);
        }

        .assessment-title {
            font-weight: 700;
            color: var(--color-warning);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .assessment-question {
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: var(--radius-sm);
        }

        .question-text {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--color-text);
        }

        .assessment-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .assessment-option {
            padding: 8px 15px;
            background: white;
            border: 2px solid rgba(245, 158, 11, 0.3);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .assessment-option:hover {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--color-warning);
        }

        .assessment-option.selected {
            background: rgba(245, 158, 11, 0.2);
            border-color: var(--color-warning);
            font-weight: 600;
        }

        .key-points {
            background: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius-md);
            padding: 20px;
            margin-top: 30px;
        }

        .key-points-title {
            font-weight: 700;
            color: var(--color-success);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .key-points-list {
            list-style: none;
            padding-left: 0;
        }

        .key-points-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .key-points-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 10px;
            color: var(--color-primary);
            font-size: 1.5rem;
            font-weight: bold;
        }

        .knowledge-check {
            background: rgba(95, 23, 235, 0.05);
            border-radius: var(--radius-lg);
            padding: 30px;
            margin-top: 40px;
            border: 2px dashed rgba(95, 23, 235, 0.3);
        }

        .knowledge-title {
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--color-primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .quiz-question {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(95, 23, 235, 0.1);
        }

        .quiz-question:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .question-text {
            font-weight: 700;
            color: var(--color-text);
            margin-bottom: 15px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            padding: 12px 15px;
            background: white;
            border: 2px solid rgba(95, 23, 235, 0.2);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option:hover {
            border-color: var(--color-primary);
            background: rgba(95, 23, 235, 0.05);
        }

        .option.selected {
            border-color: var(--color-primary);
            background: rgba(95, 23, 235, 0.1);
            font-weight: 600;
        }

        .option-label {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: rgba(95, 23, 235, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--color-primary);
            flex-shrink: 0;
        }

        .option.selected .option-label {
            background: var(--color-primary);
            color: white;
        }

        .submit-btn {
            background: var(--color-primary);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: var(--radius-md);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 30px auto 0;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .submit-btn:hover {
            background: #4c0fcf;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(95, 23, 235, 0.3);
        }

        .submit-btn:disabled {
            background: var(--color-muted);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .results {
            display: none;
            background: rgba(95, 23, 235, 0.05);
            border-radius: var(--radius-md);
            padding: 25px;
            margin-top: 25px;
            border-left: 4px solid var(--color-primary);
        }

        .results.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .results-title {
            font-weight: 800;
            color: var(--color-primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .score {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--color-primary);
            margin: 20px 0;
            animation: pulse 2s infinite;
        }

        .feedback {
            color: var(--color-text);
            line-height: 1.7;
        }

        .completion-message {
            display: none;
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            border-radius: var(--radius-lg);
            padding: 25px;
            margin-top: 30px;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }

        .completion-message.show {
            display: block;
            animation: glow 2s infinite;
        }

        .completion-title {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .completion-time {
            font-size: 2.5rem;
            font-weight: 900;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .timer-container {
                position: static;
                margin-bottom: 20px;
            }

            .timer {
                justify-content: center;
            }

            .section {
                padding: 20px;
            }

            .lesson-title {
                font-size: 1.6rem;
            }

            .age-grid, .comparison-grid, .strategy-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Timer Display -->
    <div class="timer-container">
        <div class="timer" id="timer">
            <div class="timer-icon">‚è±Ô∏è</div>
            <div class="timer-display" id="timer-display">00:00</div>
            <div class="timer-label">Time Learning</div>
        </div>
    </div>

    <div class="lesson-container">
        <!-- Header -->
        <div class="header">
            <div class="brand">
                <img src="https://lwfiles.mycourse.app/vadrivingclinic-public/9f5c6b8121721c8ef241f929fd983b3e.png" 
                     alt="VA Driving Clinic Logo" class="brand-logo">
                <div class="module-info">
                    <div class="module-title">Driver Safety Module</div>
                    <div style="color: var(--color-muted); font-size: 0.9rem;">15-Minute Age and Driving Guide</div>
                </div>
            </div>
        </div>

        <h1 class="lesson-title">Age and Driving: Maintaining Safety & Independence</h1>

        <!-- Time Estimate Banner -->
        <div class="time-estimate">
            <div class="time-estimate-icon">‚è±Ô∏è</div>
            <div class="time-estimate-text">
                Complete this lesson in approximately <span class="time-highlight">15 minutes</span> to understand how aging affects driving and learn safety strategies
            </div>
        </div>

        <!-- Stats Display -->
        <div class="stats-display">
            <div class="stat-card">
                <span class="stat-number" id="completed-count">0</span>
                <span class="stat-label">Sections Completed</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="quiz-score">0%</span>
                <span class="stat-label">Quiz Score</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="time-spent">0:00</span>
                <span class="stat-label">Time Learning</span>
            </div>
        </div>

        <!-- Progress Indicator -->
        <div class="progress-indicator">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-label">
                <span>Lesson Progress</span>
                <span>Time Learning: <span id="time-learning">0:00</span></span>
            </div>
        </div>

        <!-- Lesson Content -->
        <div class="lesson-content">
            <!-- Section 1: Introduction & Impact of Aging -->
            <div class="section" style="animation-delay: 0.1s" data-section="1">
                <div class="section-number">1</div>
                <h2 class="section-title">
                    <span class="section-title-icon">üëµüßì</span>
                    The Impact of Aging on Driving Abilities
                </h2>
                
                <div class="subsection">
                    <p class="subsection-content">
                        Driving is a complex task that requires physical, cognitive, and sensory abilities. As individuals age, these abilities naturally change, impacting driving performance. Understanding these changes is the first step toward maintaining safe driving practices throughout the lifespan.
                    </p>
                    
                    <div class="comparison-grid">
                        <div class="comparison-item">
                            <div class="comparison-value">65+</div>
                            <div class="comparison-label">Fastest growing group of drivers</div>
                        </div>
                        <div class="comparison-item">
                            <div class="comparison-value">85%</div>
                            <div class="comparison-label">Seniors who drive regularly</div>
                        </div>
                        <div class="comparison-item">
                            <div class="comparison-value">2x</div>
                            <div class="comparison-label">Higher crash rate per mile (age 80+)</div>
                        </div>
                        <div class="comparison-item">
                            <div class="comparison-value">30%</div>
                            <div class="comparison-label">Slower reaction times by age 75</div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">üí™ Physical Changes with Age</h3>
                    
                    <div class="age-grid">
                        <div class="age-card">
                            <div class="age-icon">üèãÔ∏è</div>
                            <div class="age-name">Strength & Flexibility</div>
                            <div class="subsection-content">
                                Aging can lead to reduced muscle strength and joint flexibility, affecting the ability to control a vehicle effectively.
                            </div>
                            <ul class="age-factors">
                                <li>Difficulty turning steering wheel</li>
                                <li>Challenges pressing pedals</li>
                                <li>Limited neck rotation for checking blind spots</li>
                                <li>Reduced ability to perform emergency maneuvers</li>
                            </ul>
                        </div>

                        <div class="age-card">
                            <div class="age-icon">‚ö°</div>
                            <div class="age-name">Reaction Times</div>
                            <div class="subsection-content">
                                Slower reaction times make it more challenging to respond quickly to sudden changes in traffic conditions.
                            </div>
                            <ul class="age-factors">
                                <li>Average 20-30% slower reaction time by age 65</li>
                                <li>Longer stopping distances required</li>
                                <li>Difficulty responding to unexpected hazards</li>
                                <li>Challenges with fast-paced traffic situations</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">üëÄ Sensory Changes with Age</h3>
                    
                    <div class="age-grid">
                        <div class="age-card">
                            <div class="age-icon">üëÅÔ∏è</div>
                            <div class="age-name">Vision Changes</div>
                            <div class="subsection-content">
                                Age-related vision changes can significantly affect driving ability, particularly in challenging conditions.
                            </div>
                            <ul class="age-factors">
                                <li>Reduced night vision and increased glare sensitivity</li>
                                <li>Cataracts, glaucoma, and macular degeneration</li>
                                <li>Narrowed visual field (tunnel vision)</li>
                                <li>Difficulty judging distances and speeds</li>
                                <li>Challenges reading traffic signs quickly</li>
                            </ul>
                        </div>

                        <div class="age-card">
                            <div class="age-icon">üëÇ</div>
                            <div class="age-name">Hearing Changes</div>
                            <div class="subsection-content">
                                Hearing loss can make it difficult to detect important auditory cues while driving.
                            </div>
                            <ul class="age-factors">
                                <li>Difficulty hearing emergency vehicle sirens</li>
                                <li>Challenges detecting horns from other vehicles</li>
                                <li>Missed auditory warning signals</li>
                                <li>Difficulty hearing approaching vehicles</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">üß† Cognitive Changes with Age</h3>
                    
                    <div class="info-box">
                        <div class="info-title">üß© Cognitive Functions Essential for Driving</div>
                        <div class="subsection-content">
                            Safe driving requires complex cognitive processing that can be affected by aging:
                        </div>
                        <ul class="age-factors">
                            <li><strong>Memory:</strong> Remembering routes and traffic rules</li>
                            <li><strong>Attention:</strong> Maintaining focus on multiple elements</li>
                            <li><strong>Processing Speed:</strong> Quickly interpreting traffic situations</li>
                            <li><strong>Decision-Making:</strong> Making safe choices in real-time</li>
                            <li><strong>Spatial Awareness:</strong> Judging distances and positions</li>
                        </ul>
                    </div>

                    <div class="stats-box">
                        <div class="stats-title">üìä Age-Related Driving Statistics (2024)</div>
                        <div class="stats-content">
                            ‚Ä¢ Drivers 65+ are involved in 18% of all traffic fatalities<br>
                            ‚Ä¢ 7,500 older adults killed in traffic crashes annually<br>
                            ‚Ä¢ 200,000+ older drivers treated in emergency rooms<br>
                            ‚Ä¢ Fatality rate increases significantly after age 70<br>
                            ‚Ä¢ Intersection crashes account for 40% of senior accidents<br>
                            ‚Ä¢ Left-turn accidents are particularly common
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: Challenges & Specific Difficulties -->
            <div class="section" style="animation-delay: 0.2s" data-section="2">
                <div class="section-number">2</div>
                <h2 class="section-title">
                    <span class="section-title-icon">‚ö†Ô∏è</span>
                    Specific Challenges for Older Drivers
                </h2>

                <div class="subsection">
                    <div class="strategy-grid">
                        <div class="strategy-card">
                            <div class="strategy-icon">üö¶</div>
                            <div class="strategy-title">Complex Intersections</div>
                            <ul class="strategy-list">
                                <li>Multiple traffic signals and signs</li>
                                <li>Pedestrian crossings to monitor</li>
                                <li>Turning across multiple lanes</li>
                                <li>Judging gaps in oncoming traffic</li>
                                <li>Managing left turns at busy intersections</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üåô</div>
                            <div class="strategy-title">Night Driving Difficulties</div>
                            <ul class="strategy-list">
                                <li>Reduced contrast sensitivity</li>
                                <li>Increased glare from headlights</li>
                                <li>Difficulty seeing pedestrians</li>
                                <li>Challenges reading road signs</li>
                                <li>Fatigue and decreased alertness</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üõ£Ô∏è</div>
                            <div class="strategy-title">Highway Driving Stress</div>
                            <ul class="strategy-list">
                                <li>Merging into fast-moving traffic</li>
                                <li>Maintaining consistent speed</li>
                                <li>Navigating multiple lane changes</li>
                                <li>Managing high-speed decisions</li>
                                <li>Coping with aggressive drivers</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üéØ</div>
                            <div class="strategy-title">Multitasking Demands</div>
                            <ul class="strategy-list">
                                <li>Monitoring multiple mirrors</li>
                                <li>Checking blind spots regularly</li>
                                <li>Processing navigation information</li>
                                <li>Responding to changing conditions</li>
                                <li>Managing in-vehicle technology</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <div class="self-assessment">
                        <div class="assessment-title">ü§î Self-Assessment: Are You Experiencing These Challenges?</div>
                        
                        <div class="assessment-question">
                            <div class="question-text">Do you find night driving more difficult than it used to be?</div>
                            <div class="assessment-options">
                                <div class="assessment-option" onclick="selectAssessment(this)">Never</div>
                                <div class="assessment-option" onclick="selectAssessment(this)">Sometimes</div>
                                <div class="assessment-option" onclick="selectAssessment(this)">Often</div>
                                <div class="assessment-option" onclick="selectAssessment(this)">Always</div>
                            </div>
                        </div>

                        <div class="assessment-question">
                            <div class="question-text">Do complex intersections make you anxious or confused?</div>
                            <div class="assessment-options">
                                <div class="assessment-option" onclick="selectAssessment(this)">Never</div>
                                <div class="assessment-option" onclick="selectAssessment(this)">Sometimes</div>
                                <div class="assessment-option" onclick="selectAssessment(this)">Often</div>
                                <div class="assessment-option" onclick="selectAssessment(this)">Always</div>
                            </div>
                        </div>

                        <div class="assessment-question">
                            <div class="question-text">Have you had close calls or near misses recently?</div>
                            <div class="assessment-options">
                                <div class="assessment-option" onclick="selectAssessment(this)">None</div>
                                <div class="assessment-option" onclick="selectAssessment(this)">1-2</div>
                                <div class="assessment-option" onclick="selectAssessment(this)">3-5</div>
                                <div class="assessment-option" onclick="selectAssessment(this)">Several</div>
                            </div>
                        </div>
                    </div>

                    <div class="tips-box">
                        <div class="tips-title">üõ°Ô∏è Early Warning Signs to Monitor</div>
                        <ul class="tips-list">
                            <li>Difficulty seeing street signs or traffic signals</li>
                            <li>Confusion at intersections or highway exits</li>
                            <li>Slower reaction to unexpected situations</li>
                            <li>Getting lost in familiar areas</li>
                            <li>Increased anxiety while driving</li>
                            <li>Frequent minor collisions or scrapes</li>
                            <li>Difficulty turning head to check blind spots</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Section 3: Safety Strategies & Solutions -->
            <div class="section" style="animation-delay: 0.3s" data-section="3">
                <div class="section-number">3</div>
                <h2 class="section-title">
                    <span class="section-title-icon">üõ°Ô∏è</span>
                    Safety Strategies for Older Drivers
                </h2>

                <div class="subsection">
                    <h3 class="subsection-title">üè• Regular Health Check-Ups</h3>
                    
                    <div class="strategy-grid">
                        <div class="strategy-card">
                            <div class="strategy-icon">üëÅÔ∏è</div>
                            <div class="strategy-title">Vision & Hearing Tests</div>
                            <ul class="strategy-list">
                                <li>Annual comprehensive eye exams</li>
                                <li>Regular hearing screenings</li>
                                <li>Update corrective lenses regularly</li>
                                <li>Consider anti-glare glasses for night driving</li>
                                <li>Address cataracts and other conditions promptly</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üí™</div>
                            <div class="strategy-title">Physical Fitness</div>
                            <ul class="strategy-list">
                                <li>Regular exercise for strength and flexibility</li>
                                <li>Neck rotation exercises</li>
                                <li>Leg strength training for pedal control</li>
                                <li>Balance and coordination exercises</li>
                                <li>Consult physical therapist if needed</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üíä</div>
                            <div class="strategy-title">Medication Management</div>
                            <ul class="strategy-list">
                                <li>Review medications with doctor regularly</li>
                                <li>Avoid driving while adjusting to new medications</li>
                                <li>Be aware of side effects affecting driving</li>
                                <li>Don't mix medications with alcohol</li>
                                <li>Ask about driving-safe alternatives</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">üéì Driver Education & Skill Enhancement</h3>
                    
                    <div class="info-box">
                        <div class="info-title">üìö Recommended Courses & Programs</div>
                        <div class="strategy-list">
                            <li><strong>AAA Roadwise Review:</strong> Computer-based self-assessment tool</li>
                            <li><strong>AARP Smart Driver Course:</strong> Classroom and online options</li>
                            <li><strong>CarFit Program:</strong> Professional assessment of vehicle fit</li>
                            <li><strong>Driver Rehabilitation Specialists:</strong> Individualized training</li>
                            <li><strong>Local DMV Refresher Courses:</strong> State-specific requirements</li>
                        </div>
                    </div>

                    <div class="tips-box">
                        <div class="tips-title">üéØ Defensive Driving Strategies</div>
                        <ul class="tips-list">
                            <li>Increase following distance (4+ seconds)</li>
                            <li>Scan farther ahead to anticipate problems</li>
                            <li>Avoid distractions (phone, radio, conversations)</li>
                            <li>Use turn signals well in advance</li>
                            <li>Plan lane changes carefully</li>
                            <li>Be predictable in your driving patterns</li>
                        </ul>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">üöó Vehicle Adaptations & Technology</h3>
                    
                    <div class="strategy-grid">
                        <div class="strategy-card">
                            <div class="strategy-icon">üîß</div>
                            <div class="strategy-title">Assistive Devices</div>
                            <ul class="strategy-list">
                                <li>Pedal extenders for better reach</li>
                                <li>Swivel seats for easier entry/exit</li>
                                <li>Larger side and rearview mirrors</li>
                                <li>Hand controls for limited mobility</li>
                                <li>Steering wheel covers for better grip</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">ü§ñ</div>
                            <div class="strategy-title">Advanced Safety Features</div>
                            <ul class="strategy-list">
                                <li>Backup cameras and sensors</li>
                                <li>Blind spot monitoring systems</li>
                                <li>Lane departure warnings</li>
                                <li>Automatic emergency braking</li>
                                <li>Adaptive cruise control</li>
                                <li>Parking assist technology</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üì±</div>
                            <div class="strategy-title">Smart Vehicle Choices</div>
                            <ul class="strategy-list">
                                <li>Choose vehicles with good visibility</li>
                                <li>Automatic transmission for easier operation</li>
                                <li>Power steering and brakes</li>
                                <li>Easy-to-read dashboard controls</li>
                                <li>Comfortable, supportive seating</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">üß≠ Self-Regulation & Planning</h3>
                    
                    <div class="key-points">
                        <div class="key-points-title">üó∫Ô∏è Strategic Driving Adjustments</div>
                        <ul class="key-points-list">
                            <li><strong>Avoid Peak Traffic:</strong> Drive during off-hours when possible</li>
                            <li><strong>Daylight Driving:</strong> Limit night driving to essential trips</li>
                            <li><strong>Route Planning:</strong> Choose familiar, less complex routes</li>
                            <li><strong>Weather Awareness:</strong> Avoid driving in bad weather conditions</li>
                            <li><strong>Know Your Limits:</strong> Recognize when to ask for help or use alternatives</li>
                            <li><strong>Rest Breaks:</strong> Take regular breaks on long trips</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <div class="info-title">ü§ù Family & Professional Support</div>
                        <div class="subsection-content">
                            <strong>Open Communication:</strong> Discuss driving concerns with family members<br>
                            <strong>Physician Involvement:</strong> Regular driving ability discussions with doctors<br>
                            <strong>Professional Evaluations:</strong> Consider certified driving rehabilitation specialist assessment<br>
                            <strong>Community Resources:</strong> Explore local senior transportation options<br>
                            <strong>Gradual Transition:</strong> Plan for eventual driving reduction or retirement
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <div class="stats-box">
                        <div class="stats-title">üìà Benefits of Proactive Safety Measures</div>
                        <div class="stats-content">
                            ‚Ä¢ <strong>Crash Reduction:</strong> Up to 55% fewer accidents with proper adaptations<br>
                            ‚Ä¢ <strong>Extended Driving Years:</strong> 5-7 additional safe driving years with proactive measures<br>
                            ‚Ä¢ <strong>Cost Savings:</strong> $3,000+ annual savings by avoiding accidents<br>
                            ‚Ä¢ <strong>Independence:</strong> Maintain mobility and social connections longer<br>
                            ‚Ä¢ <strong>Peace of Mind:</strong> Reduced anxiety and increased confidence<br>
                            ‚Ä¢ <strong>Family Assurance:</strong> Loved ones feel more secure about your safety
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Knowledge Check -->
        <div class="knowledge-check">
            <h2 class="knowledge-title">üìù Knowledge Check: Age and Driving Safety</h2>
            
            <div class="quiz-question">
                <div class="question-text">1. Which age-related change MOST affects a driver's ability to respond to sudden hazards?</div>
                <div class="options">
                    <div class="option" data-question="1" data-answer="A">
                        <div class="option-label">A</div>
                        <div>Changes in hair color</div>
                    </div>
                    <div class="option" data-question="1" data-answer="B">
                        <div class="option-label">B</div>
                        <div>Slower reaction times</div>
                    </div>
                    <div class="option" data-question="1" data-answer="C">
                        <div class="option-label">C</div>
                        <div>Different musical preferences</div>
                    </div>
                </div>
            </div>

            <div class="quiz-question">
                <div class="question-text">2. What is a recommended strategy for older drivers to maintain safety?</div>
                <div class="options">
                    <div class="option" data-question="2" data-answer="A">
                        <div class="option-label">A</div>
                        <div>Drive only at night to avoid traffic</div>
                    </div>
                    <div class="option" data-question="2" data-answer="B">
                        <div class="option-label">B</div>
                        <div>Take defensive driving refresher courses</div>
                    </div>
                    <div class="option" data-question="2" data-answer="C">
                        <div class="option-label">C</div>
                        <div>Avoid all medical check-ups</div>
                    </div>
                </div>
            </div>

            <div class="quiz-question">
                <div class="question-text">3. Which vehicle adaptation can help older drivers with limited mobility?</div>
                <div class="options">
                    <div class="option" data-question="3" data-answer="A">
                        <div class="option-label">A</div>
                        <div>Louder horn</div>
                    </div>
                    <div class="option" data-question="3" data-answer="B">
                        <div class="option-label">B</div>
                        <div>Pedal extenders</div>
                    </div>
                    <div class="option" data-question="3" data-answer="C">
                        <div class="option-label">C</div>
                        <div>Brighter interior lights</div>
                    </div>
                </div>
            </div>

            <div class="quiz-question">
                <div class="question-text">4. When should older drivers consider professional driving evaluations?</div>
                <div class="options">
                    <div class="option" data-question="4" data-answer="A">
                        <div class="option-label">A</div>
                        <div>Only after an accident</div>
                    </div>
                    <div class="option" data-question="4" data-answer="B">
                        <div class="option-label">B</div>
                        <div>Proactively, as part of regular safety planning</div>
                    </div>
                    <div class="option" data-question="4" data-answer="C">
                        <div class="option-label">C</div>
                        <div>Never - evaluations are unnecessary</div>
                    </div>
                </div>
            </div>

            <button class="submit-btn" id="submit-btn" onclick="checkAnswers()">Check Your Answers</button>

            <div class="results" id="results">
                <div class="results-title">
                    <span>üìä</span> Your Age and Driving Knowledge Results
                </div>
                <div class="score" id="score">0/4</div>
                <div class="feedback" id="feedback">
                    Review your answers below to see which concepts you've mastered and which need more attention.
                </div>
                <div class="key-points" style="margin-top: 20px;">
                    <div class="key-points-title">üéØ Essential Takeaways for Safe Aging and Driving</div>
                    <ul class="key-points-list">
                        <li>Aging affects driving abilities, but proactive measures can maintain safety</li>
                        <li>Regular health check-ups are crucial for identifying age-related changes</li>
                        <li>Vehicle adaptations and technology can compensate for many age-related challenges</li>
                        <li>Self-regulation and strategic planning extend safe driving years</li>
                        <li>Open communication with family and professionals supports safe transitions</li>
                        <li>Driving independence can often be maintained with proper adaptations and awareness</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Completion Message -->
        <div class="completion-message" id="completion-message">
            <div class="completion-title">
                <span>üéâ</span> Driving Safety Mastery Achieved!
            </div>
            <p>You've successfully completed the Age and Driving Safety lesson.</p>
            <div class="completion-time" id="completion-time">00:00</div>
            <p>Remember: Safe driving at any age involves awareness, adaptation, and proactive safety measures. Your commitment to learning ensures safer roads for everyone.</p>
        </div>
    </div>

    <script>
        // Timer Configuration - Continuous timer
        let timerInterval;
        let totalSeconds = 0;
        let sectionsCompleted = new Set();
        let quizCompleted = false;
        
        // DOM Elements
        const timerDisplay = document.getElementById('timer-display');
        const timeSpentEl = document.getElementById('time-spent');
        const timeLearningSpan = document.getElementById('time-learning');
        const completedCountEl = document.getElementById('completed-count');
        const quizScoreEl = document.getElementById('quiz-score');
        const progressFill = document.getElementById('progress-fill');
        const submitBtn = document.getElementById('submit-btn');
        const completionMessage = document.getElementById('completion-message');
        const completionTime = document.getElementById('completion-time');

        // Format time as MM:SS or HH:MM:SS
        function formatTime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            
            if (hours > 0) {
                return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            } else {
                return `${minutes}:${secs.toString().padStart(2, '0')}`;
            }
        }

        // Start the continuous timer
        function startTimer() {
            // Clear any existing interval
            if (timerInterval) clearInterval(timerInterval);
            
            // Start new interval
            timerInterval = setInterval(function() {
                totalSeconds++;
                updateTimerDisplay();
            }, 1000);
        }

        // Update timer display across all elements
        function updateTimerDisplay() {
            const timeString = formatTime(totalSeconds);
            
            // Update all timer displays
            timerDisplay.textContent = timeString;
            timeSpentEl.textContent = timeString;
            timeLearningSpan.textContent = timeString;
            
            // Update progress based on sections read
            updateProgress();
        }

        // Update progress based on sections read
        function updateProgress() {
            const totalSections = 3; // We have 3 main sections
            const progressPercentage = Math.min((sectionsCompleted.size / totalSections) * 100, 100);
            progressFill.style.width = `${progressPercentage}%`;
            
            // Update completed count
            completedCountEl.textContent = sectionsCompleted.size;
            
            // Update timer appearance based on time
            const timerElement = document.getElementById('timer');
            if (totalSeconds >= 900) { // 15 minutes or more
                timerElement.classList.add('warning');
                timerElement.classList.remove('critical');
            } else if (totalSeconds >= 1200) { // 20 minutes or more
                timerElement.classList.add('critical');
                timerElement.classList.remove('warning');
            } else {
                timerElement.classList.remove('warning', 'critical');
            }
        }

        // Self-assessment selection
        function selectAssessment(element) {
            // Remove selected class from siblings
            const parent = element.parentElement;
            const siblings = parent.querySelectorAll('.assessment-option');
            siblings.forEach(sib => sib.classList.remove('selected'));
            
            // Add selected class to clicked element
            element.classList.add('selected');
        }

        // Update quiz score display
        function updateQuizScore(score, totalQuestions) {
            const percentage = Math.round((score / totalQuestions) * 100);
            quizScoreEl.textContent = `${percentage}%`;
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Start the continuous timer
            startTimer();
            
            // Set up option selection
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.dataset.question;
                    // Remove selected class from all options in this question
                    document.querySelectorAll(`.option[data-question="${question}"]`)
                        .forEach(opt => opt.classList.remove('selected'));
                    // Add selected class to clicked option
                    this.classList.add('selected');
                });
            });

            // Track section reading progress
            const sections = document.querySelectorAll('.section');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const sectionNumber = entry.target.dataset.section;
                        if (!sectionsCompleted.has(sectionNumber)) {
                            sectionsCompleted.add(sectionNumber);
                            updateProgress();
                        }
                    }
                });
            }, { threshold: 0.5 });
            
            sections.forEach(section => observer.observe(section));
        });

        function checkAnswers() {
            // Mark quiz as completed
            quizCompleted = true;
            
            const correctAnswers = {
                1: 'B',
                2: 'B',
                3: 'B',
                4: 'B'
            };

            let score = 0;
            const totalQuestions = 4;
            let feedbackHTML = '';

            // Check each question
            for (let i = 1; i <= totalQuestions; i++) {
                const selectedOption = document.querySelector(`.option.selected[data-question="${i}"]`);
                if (selectedOption) {
                    const userAnswer = selectedOption.dataset.answer;
                    const isCorrect = userAnswer === correctAnswers[i];
                    
                    if (isCorrect) {
                        score++;
                        selectedOption.style.borderColor = '#10b981';
                        selectedOption.style.background = 'rgba(16, 185, 129, 0.1)';
                    } else {
                        selectedOption.style.borderColor = '#ef4444';
                        selectedOption.style.background = 'rgba(239, 68, 68, 0.1)';
                        
                        // Highlight correct answer
                        const correctOption = document.querySelector(`.option[data-question="${i}"][data-answer="${correctAnswers[i]}"]`);
                        if (correctOption) {
                            correctOption.style.borderColor = '#10b981';
                            correctOption.style.background = 'rgba(16, 185, 129, 0.1)';
                            correctOption.style.fontWeight = '600';
                        }
                    }
                }
            }

            // Update quiz score
            updateQuizScore(score, totalQuestions);
            
            // Calculate percentage
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Show results
            document.getElementById('score').textContent = `${score}/${totalQuestions} (${percentage}%)`;
            
            // Generate feedback based on score
            if (score === totalQuestions) {
                feedbackHTML = 'üéâ Excellent! You understand how aging affects driving and the strategies for maintaining safety. ';
            } else if (score >= totalQuestions * 0.7) {
                feedbackHTML = 'üëç Good job! You grasp most key concepts about age and driving safety. Review the incorrect answers to strengthen your knowledge. ';
            } else {
                feedbackHTML = 'üìö Review the lesson material and try again. Understanding these concepts is crucial for safe driving at any age. ';
            }
            
            feedbackHTML += 'Remember these key principles for safe driving throughout life:';
            document.getElementById('feedback').innerHTML = feedbackHTML;
            
            // Show results
            document.getElementById('results').classList.add('show');
            
            // Show completion message
            completionTime.textContent = formatTime(totalSeconds);
            completionMessage.classList.add('show');
            
            // Update timer to show "Completed" state
            timerDisplay.textContent = formatTime(totalSeconds);
            const timerElement = document.getElementById('timer');
            timerElement.style.background = 'linear-gradient(135deg, #10b981, #34d399)';
            
            // Update progress bar to 100%
            progressFill.style.width = '100%';
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // Optional: Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !quizCompleted) {
                checkAnswers();
            }
        });
    </script>
</body>
</html>
