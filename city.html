<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VA Driving Clinic - City vs. Rural Roads</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --color-primary: #5f17eb;
            --color-primary-light: #8a5feb;
            --color-secondary: #000000;
            --color-bg: #ffffff;
            --color-text: #000000;
            --color-muted: #6b7280;
            --color-success: #10b981;
            --color-warning: #f59e0b;
            --color-error: #ef4444;
            --color-info: #3b82f6;
            --color-city: #3b82f6;
            --color-rural: #10b981;
            --radius-lg: 20px;
            --radius-md: 12px;
            --radius-sm: 8px;
            --shadow-soft: 0 10px 30px rgba(95, 23, 235, 0.1);
            --shadow-hover: 0 15px 35px rgba(95, 23, 235, 0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            color: var(--color-text);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(95, 23, 235, 0.5); }
            50% { box-shadow: 0 0 25px rgba(95, 23, 235, 0.8); }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .lesson-container {
            max-width: 1000px;
            margin: 0 auto;
            animation: fadeIn 0.6s ease-out;
        }

        /* Timer Styles */
        .timer-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            animation: fadeIn 0.5s ease-out;
        }

        .timer {
            background: linear-gradient(135deg, #5f17eb, #7c3aed);
            color: white;
            border-radius: 50px;
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 8px 25px rgba(95, 23, 235, 0.3);
            border: 3px solid rgba(255, 255, 255, 0.2);
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .timer.warning {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            animation: pulse 1s infinite;
        }

        .timer.critical {
            background: linear-gradient(135deg, #ef4444, #f87171);
            animation: blink 0.5s infinite;
        }

        .timer-icon {
            font-size: 1.3rem;
            animation: pulse 2s infinite;
        }

        .timer-display {
            font-family: 'Courier New', monospace;
            font-size: 1.5rem;
            font-weight: 800;
            letter-spacing: 2px;
            min-width: 100px;
            text-align: center;
        }

        .timer-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Stats Display */
        .stats-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 600px) {
            .stats-display { grid-template-columns: 1fr; }
        }

        .stat-card {
            background: rgba(95, 23, 235, 0.05);
            border-radius: var(--radius-md);
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(95, 23, 235, 0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--color-primary);
            box-shadow: 0 10px 25px rgba(95, 23, 235, 0.1);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--color-primary);
            display: block;
            line-height: 1;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--color-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .brand-logo {
            height: 50px;
            width: auto;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .module-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .module-title {
            font-size: 1.1rem;
            color: var(--color-primary);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .lesson-title {
            font-size: 2rem;
            font-weight: 800;
            color: var(--color-text);
            margin-bottom: 10px;
        }

        .time-estimate {
            background: rgba(95, 23, 235, 0.1);
            border: 2px solid rgba(95, 23, 235, 0.2);
            border-radius: var(--radius-md);
            padding: 15px 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .time-estimate-icon {
            font-size: 1.5rem;
            color: var(--color-primary);
        }

        .time-estimate-text {
            font-size: 1rem;
            color: var(--color-text);
            font-weight: 600;
        }

        .time-highlight {
            color: var(--color-primary);
            font-weight: 800;
            font-size: 1.2em;
        }

        .progress-indicator {
            margin: 20px 0 30px;
        }

        .progress-bar {
            height: 8px;
            background: rgba(95, 23, 235, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #5f17eb, #7c3aed);
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--color-muted);
            font-weight: 600;
        }

        .lesson-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .section {
            background: var(--color-bg);
            border-radius: var(--radius-lg);
            padding: 30px;
            box-shadow: var(--shadow-soft);
            border: 1px solid rgba(95, 23, 235, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: slideIn 0.5s ease-out;
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--color-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .section:hover::before {
            opacity: 1;
            animation: glow 2s infinite;
        }

        .section-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--color-primary);
            color: white;
            border-radius: 50%;
            font-weight: 800;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--color-text);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title-icon {
            font-size: 1.2rem;
        }

        .subsection {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(95, 23, 235, 0.1);
        }

        .subsection:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .subsection-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .subsection-content {
            color: var(--color-text);
            margin-bottom: 15px;
            line-height: 1.7;
        }

        /* Road Type Specific Styles */
        .city-card {
            border-left: 4px solid var(--color-city);
            background: rgba(59, 130, 246, 0.05);
        }

        .rural-card {
            border-left: 4px solid var(--color-rural);
            background: rgba(16, 185, 129, 0.05);
        }

        .city-icon {
            color: var(--color-city);
        }

        .rural-icon {
            color: var(--color-rural);
        }

        .road-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .road-comparison {
                grid-template-columns: 1fr;
            }
        }

        .comparison-box {
            border-radius: var(--radius-md);
            padding: 25px;
            transition: all 0.3s ease;
        }

        .comparison-box:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-soft);
        }

        .comparison-title {
            font-size: 1.2rem;
            font-weight: 800;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .comparison-list {
            list-style: none;
            padding-left: 0;
        }

        .comparison-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .city-list li:before {
            content: "üèôÔ∏è";
            position: absolute;
            left: 0;
        }

        .rural-list li:before {
            content: "üå≥";
            position: absolute;
            left: 0;
        }

        .hazard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .hazard-card {
            padding: 20px;
            border-radius: var(--radius-md);
            transition: all 0.3s ease;
        }

        .hazard-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-soft);
        }

        .hazard-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .hazard-title {
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .hazard-stats {
            font-size: 0.9rem;
            color: var(--color-muted);
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .stat-box {
            background: rgba(95, 23, 235, 0.05);
            border-radius: var(--radius-md);
            padding: 20px;
            margin: 20px 0;
        }

        .stat-box-title {
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .comparison-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        @media (max-width: 600px) {
            .comparison-stats {
                grid-template-columns: 1fr;
            }
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: var(--radius-sm);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 900;
            margin-bottom: 5px;
        }

        .city-stat .stat-value {
            color: var(--color-city);
        }

        .rural-stat .stat-value {
            color: var(--color-rural);
        }

        .stat-description {
            font-size: 0.85rem;
            color: var(--color-muted);
        }

        .tips-box {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid var(--color-success);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        .tips-title {
            font-weight: 700;
            color: var(--color-success);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tips-list {
            list-style: none;
            padding-left: 0;
        }

        .tips-list li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .tips-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--color-success);
            font-weight: bold;
        }

        .warning-box {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid var(--color-warning);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        .warning-title {
            font-weight: 700;
            color: var(--color-warning);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .strategy-card {
            background: white;
            border: 2px solid rgba(95, 23, 235, 0.1);
            border-radius: var(--radius-md);
            padding: 20px;
            transition: all 0.3s ease;
        }

        .strategy-card:hover {
            border-color: var(--color-primary);
            transform: translateY(-3px);
            box-shadow: var(--shadow-soft);
        }

        .strategy-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .strategy-title {
            font-weight: 700;
            color: var(--color-text);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .strategy-list {
            list-style: none;
            padding-left: 0;
            margin-top: 10px;
        }

        .strategy-list li {
            margin-bottom: 6px;
            padding-left: 20px;
            position: relative;
        }

        .strategy-list li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: var(--color-primary);
        }

        .key-points {
            background: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius-md);
            padding: 20px;
            margin-top: 30px;
        }

        .key-points-title {
            font-weight: 700;
            color: var(--color-success);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .key-points-list {
            list-style: none;
            padding-left: 0;
        }

        .key-points-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .key-points-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 10px;
            color: var(--color-primary);
            font-size: 1.5rem;
            font-weight: bold;
        }

        .knowledge-check {
            background: rgba(95, 23, 235, 0.05);
            border-radius: var(--radius-lg);
            padding: 30px;
            margin-top: 40px;
            border: 2px dashed rgba(95, 23, 235, 0.3);
        }

        .knowledge-title {
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--color-primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .quiz-question {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(95, 23, 235, 0.1);
        }

        .quiz-question:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .question-text {
            font-weight: 700;
            color: var(--color-text);
            margin-bottom: 15px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            padding: 12px 15px;
            background: white;
            border: 2px solid rgba(95, 23, 235, 0.2);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option:hover {
            border-color: var(--color-primary);
            background: rgba(95, 23, 235, 0.05);
        }

        .option.selected {
            border-color: var(--color-primary);
            background: rgba(95, 23, 235, 0.1);
            font-weight: 600;
        }

        .option-label {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: rgba(95, 23, 235, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--color-primary);
            flex-shrink: 0;
        }

        .option.selected .option-label {
            background: var(--color-primary);
            color: white;
        }

        .submit-btn {
            background: var(--color-primary);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: var(--radius-md);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 30px auto 0;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .submit-btn:hover {
            background: #4c0fcf;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(95, 23, 235, 0.3);
        }

        .submit-btn:disabled {
            background: var(--color-muted);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .results {
            display: none;
            background: rgba(95, 23, 235, 0.05);
            border-radius: var(--radius-md);
            padding: 25px;
            margin-top: 25px;
            border-left: 4px solid var(--color-primary);
        }

        .results.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .results-title {
            font-weight: 800;
            color: var(--color-primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .score {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--color-primary);
            margin: 20px 0;
            animation: pulse 2s infinite;
        }

        .feedback {
            color: var(--color-text);
            line-height: 1.7;
        }

        .completion-message {
            display: none;
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            border-radius: var(--radius-lg);
            padding: 25px;
            margin-top: 30px;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }

        .completion-message.show {
            display: block;
            animation: glow 2s infinite;
        }

        .completion-title {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .completion-time {
            font-size: 2.5rem;
            font-weight: 900;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .timer-container {
                position: static;
                margin-bottom: 20px;
            }

            .timer {
                justify-content: center;
            }

            .section {
                padding: 20px;
            }

            .lesson-title {
                font-size: 1.6rem;
            }

            .hazard-grid, .strategy-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Timer Display -->
    <div class="timer-container">
        <div class="timer" id="timer">
            <div class="timer-icon">‚è±Ô∏è</div>
            <div class="timer-display" id="timer-display">00:00</div>
            <div class="timer-label">Time Learning</div>
        </div>
    </div>

    <div class="lesson-container">
        <!-- Header -->
        <div class="header">
            <div class="brand">
                <img src="https://lwfiles.mycourse.app/vadrivingclinic-public/9f5c6b8121721c8ef241f929fd983b3e.png" 
                     alt="VA Driving Clinic Logo" class="brand-logo">
                <div class="module-info">
                    <div class="module-title">Road Navigation Module</div>
                    <div style="color: var(--color-muted); font-size: 0.9rem;">15-Minute City vs. Rural Roads Guide</div>
                </div>
            </div>
        </div>

        <h1 class="lesson-title">City Roads vs. Rural Roads: Mastering Different Driving Environments</h1>

        <!-- Time Estimate Banner -->
        <div class="time-estimate">
            <div class="time-estimate-icon">‚è±Ô∏è</div>
            <div class="time-estimate-text">
                Complete this lesson in approximately <span class="time-highlight">15 minutes</span> to master the unique challenges of both city and rural driving
            </div>
        </div>

        <!-- Stats Display -->
        <div class="stats-display">
            <div class="stat-card">
                <span class="stat-number" id="completed-count">0</span>
                <span class="stat-label">Sections Completed</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="quiz-score">0%</span>
                <span class="stat-label">Quiz Score</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="time-spent">0:00</span>
                <span class="stat-label">Time Learning</span>
            </div>
        </div>

        <!-- Progress Indicator -->
        <div class="progress-indicator">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-label">
                <span>Lesson Progress</span>
                <span>Time Learning: <span id="time-learning">0:00</span></span>
            </div>
        </div>

        <!-- Lesson Content -->
        <div class="lesson-content">
            <!-- Section 1: Introduction & Statistics -->
            <div class="section" style="animation-delay: 0.1s" data-section="1">
                <div class="section-number">1</div>
                <h2 class="section-title">
                    <span class="section-title-icon">üèôÔ∏èüå≥</span>
                    Understanding the Two Worlds of Driving
                </h2>
                
                <div class="subsection">
                    <p class="subsection-content">
                        Driving on city roads and rural roads presents distinct challenges and requires different skills and strategies. Understanding the unique characteristics of each environment can help drivers navigate safely and efficiently in both settings.
                    </p>
                    
                    <div class="stat-box">
                        <div class="stat-box-title">üìä Road Environment Statistics (2024)</div>
                        <div class="comparison-stats">
                            <div class="stat-item city-stat">
                                <div class="stat-value">73%</div>
                                <div class="stat-description">of accidents occur in urban areas</div>
                            </div>
                            <div class="stat-item rural-stat">
                                <div class="stat-value">54%</div>
                                <div class="stat-description">higher fatality rate on rural roads</div>
                            </div>
                            <div class="stat-item city-stat">
                                <div class="stat-value">3x</div>
                                <div class="stat-description">more pedestrian interactions in cities</div>
                            </div>
                            <div class="stat-item rural-stat">
                                <div class="stat-value">2.5x</div>
                                <div class="stat-description">more animal collisions in rural areas</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">üéØ Key Differences at a Glance</h3>
                    
                    <div class="road-comparison">
                        <div class="comparison-box city-card">
                            <div class="comparison-title city-icon">üèôÔ∏è City Roads</div>
                            <ul class="comparison-list city-list">
                                <li>High traffic density and congestion</li>
                                <li>Complex intersections with multiple lanes</li>
                                <li>Heavy pedestrian and cyclist activity</li>
                                <li>Numerous traffic signals and signs</li>
                                <li>Limited parking availability</li>
                                <li>Higher number of distractions</li>
                                <li>Shorter reaction times required</li>
                            </ul>
                        </div>

                        <div class="comparison-box rural-card">
                            <div class="comparison-title rural-icon">üå≥ Rural Roads</div>
                            <ul class="comparison-list rural-list">
                                <li>Lower traffic density</li>
                                <li>Winding, narrow roads</li>
                                <li>Animal crossings and livestock</li>
                                <li>Limited lighting and visibility</li>
                                <li>Variable road surfaces</li>
                                <li>Longer emergency response times</li>
                                <li>Higher speed potential</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="tips-box">
                    <div class="tips-title">üí° Quick Adaptation Tip</div>
                    <div class="subsection-content">
                        <strong>The 5-Second Rule:</strong> When transitioning between city and rural driving, take 5 seconds to consciously adjust your mindset. Remind yourself of the different hazards and required behaviors for your current environment.
                    </div>
                </div>
            </div>

            <!-- Section 2: Characteristics & Challenges -->
            <div class="section" style="animation-delay: 0.2s" data-section="2">
                <div class="section-number">2</div>
                <h2 class="section-title">
                    <span class="section-title-icon">‚ö†Ô∏è</span>
                    Characteristics and Unique Challenges
                </h2>

                <div class="subsection">
                    <h3 class="subsection-title">üèôÔ∏è City Road Characteristics</h3>
                    
                    <div class="hazard-grid">
                        <div class="hazard-card city-card">
                            <div class="hazard-icon">üöóüöóüöó</div>
                            <div class="hazard-title">High Traffic Density</div>
                            <div class="subsection-content">
                                City roads often experience heavy traffic, especially during rush hours (7-9 AM, 4-6 PM). This leads to congestion, slower travel times, and increased stress levels.
                            </div>
                            <div class="hazard-stats">
                                üïê Peak congestion: 45% longer travel times
                            </div>
                        </div>

                        <div class="hazard-card city-card">
                            <div class="hazard-icon">üö¶üîÑ</div>
                            <div class="hazard-title">Complex Intersections</div>
                            <div class="subsection-content">
                                Multiple lanes, dedicated turn lanes, pedestrian crossings, and synchronized traffic signals require constant attention and quick decision-making.
                            </div>
                            <div class="hazard-stats">
                                ‚ö†Ô∏è 60% of city accidents occur at intersections
                            </div>
                        </div>

                        <div class="hazard-card city-card">
                            <div class="hazard-icon">üö∂‚Äç‚ôÇÔ∏èüö¥‚Äç‚ôÄÔ∏è</div>
                            <div class="hazard-title">Pedestrian & Cyclist Activity</div>
                            <div class="subsection-content">
                                High volumes of pedestrians near shopping areas, schools, and transit stations. Designated bike lanes require careful attention and sharing of road space.
                            </div>
                            <div class="hazard-stats">
                                üë£ 8,000+ pedestrian incidents annually in urban areas
                            </div>
                        </div>

                        <div class="hazard-card city-card">
                            <div class="hazard-icon">üÖøÔ∏èüöó</div>
                            <div class="hazard-title">Parking Challenges</div>
                            <div class="subsection-content">
                                Limited street parking, complex parking garages, tight spaces, and strict parking regulations require advanced maneuvering skills.
                            </div>
                            <div class="hazard-stats">
                                ‚è±Ô∏è Average city parking search: 12-20 minutes
                            </div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">üå≥ Rural Road Characteristics</h3>
                    
                    <div class="hazard-grid">
                        <div class="hazard-card rural-card">
                            <div class="hazard-icon">üõ£Ô∏èüëª</div>
                            <div class="hazard-title">Lower Traffic Density</div>
                            <div class="subsection-content">
                                While less congested, rural roads present unique challenges including higher speeds, longer sight distances, and complacency risks.
                            </div>
                            <div class="hazard-stats">
                                üí® 65% of rural fatal crashes involve speeding
                            </div>
                        </div>

                        <div class="hazard-card rural-card">
                            <div class="hazard-icon">üåÄüèîÔ∏è</div>
                            <div class="hazard-title">Variable Road Conditions</div>
                            <div class="subsection-content">
                                Narrow winding roads, gravel surfaces, seasonal changes, and poor maintenance require constant adaptation and cautious driving.
                            </div>
                            <div class="hazard-stats">
                                üöß 40% of rural roads rated "poor" condition
                            </div>
                        </div>

                        <div class="hazard-card rural-card">
                            <div class="hazard-icon">ü¶åüêÑ</div>
                            <div class="hazard-title">Wildlife & Livestock</div>
                            <div class="subsection-content">
                                Animal crossings, unfenced roads, and livestock movements create unexpected hazards, particularly at dawn and dusk.
                            </div>
                            <div class="hazard-stats">
                                ü¶å 1.5 million animal-vehicle collisions annually
                            </div>
                        </div>

                        <div class="hazard-card rural-card">
                            <div class="hazard-icon">üåôüåå</div>
                            <div class="hazard-title">Limited Visibility & Lighting</div>
                            <div class="subsection-content">
                                Few streetlights, blind curves, hilly terrain, and complete darkness require enhanced night driving skills and proper headlight use.
                            </div>
                            <div class="hazard-stats">
                                üåÉ 3x higher fatality rate for rural night driving
                            </div>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <div class="warning-title">üö® Critical Differences in Emergency Response</div>
                    <div class="subsection-content">
                        <strong>City:</strong> Average emergency response time: 5-8 minutes. More emergency services available.<br>
                        <strong>Rural:</strong> Average emergency response time: 15-25 minutes. Limited medical facilities nearby.<br>
                        <br>
                        This means rural drivers must be more self-reliant and carry emergency supplies in their vehicles.
                    </div>
                </div>
            </div>

            <!-- Section 3: Safety Strategies & Best Practices -->
            <div class="section" style="animation-delay: 0.3s" data-section="3">
                <div class="section-number">3</div>
                <h2 class="section-title">
                    <span class="section-title-icon">üõ°Ô∏è</span>
                    Safety Strategies for Both Environments
                </h2>

                <div class="subsection">
                    <h3 class="subsection-title">üèôÔ∏è City Driving Best Practices</h3>
                    
                    <div class="strategy-grid">
                        <div class="strategy-card">
                            <div class="strategy-icon">üëÄ</div>
                            <div class="strategy-title">Enhanced Situational Awareness</div>
                            <ul class="strategy-list">
                                <li>Scan 12-15 seconds ahead</li>
                                <li>Check mirrors every 5-8 seconds</li>
                                <li>Watch for pedestrian movements</li>
                                <li>Monitor cyclists in bike lanes</li>
                                <li>Anticipate other drivers' actions</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üö¶</div>
                            <div class="strategy-title">Intersection Mastery</div>
                            <ul class="strategy-list">
                                <li>Approach intersections cautiously</li>
                                <li>Look left-right-left before proceeding</li>
                                <li>Watch for last-second yellow light runners</li>
                                <li>Check crosswalks completely</li>
                                <li>Position vehicle for best visibility</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üìµ</div>
                            <div class="strategy-title">Distraction Management</div>
                            <ul class="strategy-list">
                                <li>Use hands-free devices only</li>
                                <li>Pre-set navigation before driving</li>
                                <li>Avoid eating or drinking while driving</li>
                                <li>Keep conversations brief</li>
                                <li>Stay focused on driving task</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üÖøÔ∏è</div>
                            <div class="strategy-title">Smart Parking Strategies</div>
                            <ul class="strategy-list">
                                <li>Use parking apps to find spaces</li>
                                <li>Choose well-lit parking areas</li>
                                <li>Practice parallel parking regularly</li>
                                <li>Take your time when parking</li>
                                <li>Be aware of parking time limits</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">üå≥ Rural Driving Best Practices</h3>
                    
                    <div class="strategy-grid">
                        <div class="strategy-card">
                            <div class="strategy-icon">üê¢</div>
                            <div class="strategy-title">Speed & Distance Management</div>
                            <ul class="strategy-list">
                                <li>Adjust speed for road conditions</li>
                                <li>Increase following distance (4+ seconds)</li>
                                <li>Slow before curves, not in them</li>
                                <li>Use lower gears on steep hills</li>
                                <li>Watch for speed limit changes</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">ü¶å</div>
                            <div class="strategy-title">Wildlife Preparedness</div>
                            <ul class="strategy-list">
                                <li>Scan road edges for animal movement</li>
                                <li>Be extra cautious at dawn/dusk</li>
                                <li>Use high beams when appropriate</li>
                                <li>Slow down in animal crossing zones</li>
                                <li>Know how to react to animal encounters</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üöóüîß</div>
                            <div class="strategy-title">Vehicle Preparation</div>
                            <ul class="strategy-list">
                                <li>Carry emergency kit and supplies</li>
                                <li>Ensure proper tire condition</li>
                                <li>Check lights and signals regularly</li>
                                <li>Maintain adequate fuel levels</li>
                                <li>Carry communication devices</li>
                            </ul>
                        </div>

                        <div class="strategy-card">
                            <div class="strategy-icon">üåô</div>
                            <div class="strategy-title">Night Driving Techniques</div>
                            <ul class="strategy-list">
                                <li>Clean windshield and lights regularly</li>
                                <li>Use high beams judiciously</li>
                                <li>Look slightly right of oncoming lights</li>
                                <li>Increase following distance at night</li>
                                <li>Take breaks to combat fatigue</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <div class="road-comparison">
                        <div class="comparison-box city-card">
                            <div class="comparison-title city-icon">üèôÔ∏è City Emergency Response</div>
                            <ul class="comparison-list city-list">
                                <li>Call 911 immediately for emergencies</li>
                                <li>Move vehicle to safe location if possible</li>
                                <li>Use hazard lights and road flares</li>
                                <li>Exchange information with involved parties</li>
                                <li>Document scene with photos</li>
                                <li>Wait for police and emergency services</li>
                            </ul>
                        </div>

                        <div class="comparison-box rural-card">
                            <div class="comparison-title rural-icon">üå≥ Rural Emergency Response</div>
                            <ul class="comparison-list rural-list">
                                <li>Call 911 with precise location details</li>
                                <li>Provide landmarks or GPS coordinates</li>
                                <li>Administer first aid if trained</li>
                                <li>Stay with vehicle for visibility</li>
                                <li>Use emergency supplies if needed</li>
                                <li>Prepare for longer wait times</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <div class="key-points">
                        <div class="key-points-title">üéØ Essential Safety Reminders for Both Environments</div>
                        <ul class="key-points-list">
                            <li><strong>Always wear your seatbelt</strong> - it's your first line of defense</li>
                            <li><strong>Never drive impaired</strong> by alcohol, drugs, or fatigue</li>
                            <li><strong>Adjust your driving</strong> to current weather conditions</li>
                            <li><strong>Maintain your vehicle</strong> with regular inspections</li>
                            <li><strong>Plan your route</strong> before starting your journey</li>
                            <li><strong>Stay patient and courteous</strong> with other road users</li>
                            <li><strong>Continuously scan</strong> your environment for changes</li>
                        </ul>
                    </div>

                    <div class="stat-box">
                        <div class="stat-box-title">üìà Safety Impact of Proper Techniques</div>
                        <div class="comparison-stats">
                            <div class="stat-item city-stat">
                                <div class="stat-value">42%</div>
                                <div class="stat-description">Reduction in city accidents with defensive driving</div>
                            </div>
                            <div class="stat-item rural-stat">
                                <div class="stat-value">38%</div>
                                <div class="stat-description">Fewer rural fatalities with proper speed management</div>
                            </div>
                            <div class="stat-item city-stat">
                                <div class="stat-value">67%</div>
                                <div class="stat-description">Fewer pedestrian incidents with proper scanning</div>
                            </div>
                            <div class="stat-item rural-stat">
                                <div class="stat-value">55%</div>
                                <div class="stat-description">Reduction in animal collisions with vigilance</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Knowledge Check -->
        <div class="knowledge-check">
            <h2 class="knowledge-title">üìù Knowledge Check: City vs. Rural Roads</h2>
            
            <div class="quiz-question">
                <div class="question-text">1. What is the MOST significant hazard unique to rural driving?</div>
                <div class="options">
                    <div class="option" data-question="1" data-answer="A">
                        <div class="option-label">A</div>
                        <div>Traffic congestion during rush hour</div>
                    </div>
                    <div class="option" data-question="1" data-answer="B">
                        <div class="option-label">B</div>
                        <div>Wildlife and animal crossings</div>
                    </div>
                    <div class="option" data-question="1" data-answer="C">
                        <div class="option-label">C</div>
                        <div>Complex multi-lane intersections</div>
                    </div>
                </div>
            </div>

            <div class="quiz-question">
                <div class="question-text">2. When driving in the city, what should you do to manage distractions?</div>
                <div class="options">
                    <div class="option" data-question="2" data-answer="A">
                        <div class="option-label">A</div>
                        <div>Use your phone for navigation while driving</div>
                    </div>
                    <div class="option" data-question="2" data-answer="B">
                        <div class="option-label">B</div>
                        <div>Pre-set navigation before starting your trip</div>
                    </div>
                    <div class="option" data-question="2" data-answer="C">
                        <div class="option-label">C</div>
                        <div>Eat meals while driving to save time</div>
                    </div>
                </div>
            </div>

            <div class="quiz-question">
                <div class="question-text">3. Why should you increase following distance on rural roads?</div>
                <div class="options">
                    <div class="option" data-question="3" data-answer="A">
                        <div class="option-label">A</div>
                        <div>To impress other drivers with your caution</div>
                    </div>
                    <div class="option" data-question="3" data-answer="B">
                        <div class="option-label">B</div>
                        <div>To account for higher speeds and longer stopping distances</div>
                    </div>
                    <div class="option" data-question="3" data-answer="C">
                        <div class="option-label">C</div>
                        <div>Because there are fewer police to ticket you</div>
                    </div>
                </div>
            </div>

            <div class="quiz-question">
                <div class="question-text">4. What is a key difference in emergency response between city and rural areas?</div>
                <div class="options">
                    <div class="option" data-question="4" data-answer="A">
                        <div class="option-label">A</div>
                        <div>Rural areas typically have faster response times</div>
                    </div>
                    <div class="option" data-question="4" data-answer="B">
                        <div class="option-label">B</div>
                        <div>Rural emergency response can take 15-25 minutes</div>
                    </div>
                    <div class="option" data-question="4" data-answer="C">
                        <div class="option-label">C</div>
                        <div>City areas have no emergency services available</div>
                    </div>
                </div>
            </div>

            <button class="submit-btn" id="submit-btn" onclick="checkAnswers()">Check Your Answers</button>

            <div class="results" id="results">
                <div class="results-title">
                    <span>üìä</span> Your Road Navigation Knowledge Results
                </div>
                <div class="score" id="score">0/4</div>
                <div class="feedback" id="feedback">
                    Review your answers below to see which concepts you've mastered and which need more attention.
                </div>
                <div class="key-points" style="margin-top: 20px;">
                    <div class="key-points-title">üéØ Essential Takeaways for All Drivers</div>
                    <ul class="key-points-list">
                        <li>City driving requires constant vigilance for pedestrians, cyclists, and complex intersections</li>
                        <li>Rural driving demands awareness of wildlife, variable road conditions, and limited visibility</li>
                        <li>Adjust your driving style and speed based on your environment</li>
                        <li>Always be prepared for emergencies with appropriate supplies and knowledge</li>
                        <li>Regular vehicle maintenance is crucial for both environments</li>
                        <li>The most skilled drivers adapt seamlessly between city and rural conditions</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Completion Message -->
        <div class="completion-message" id="completion-message">
            <div class="completion-title">
                <span>üéâ</span> Road Navigation Mastery Achieved!
            </div>
            <p>You've successfully completed the City vs. Rural Roads lesson.</p>
            <div class="completion-time" id="completion-time">00:00</div>
            <p>Remember: The most skilled drivers understand that different roads require different approaches. Adapt your driving to your environment for maximum safety.</p>
        </div>
    </div>

    <script>
        // Timer Configuration - Continuous timer
        let timerInterval;
        let totalSeconds = 0;
        let sectionsCompleted = new Set();
        let quizCompleted = false;
        
        // DOM Elements
        const timerDisplay = document.getElementById('timer-display');
        const timeSpentEl = document.getElementById('time-spent');
        const timeLearningSpan = document.getElementById('time-learning');
        const completedCountEl = document.getElementById('completed-count');
        const quizScoreEl = document.getElementById('quiz-score');
        const progressFill = document.getElementById('progress-fill');
        const submitBtn = document.getElementById('submit-btn');
        const completionMessage = document.getElementById('completion-message');
        const completionTime = document.getElementById('completion-time');

        // Format time as MM:SS or HH:MM:SS
        function formatTime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            
            if (hours > 0) {
                return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            } else {
                return `${minutes}:${secs.toString().padStart(2, '0')}`;
            }
        }

        // Start the continuous timer
        function startTimer() {
            // Clear any existing interval
            if (timerInterval) clearInterval(timerInterval);
            
            // Start new interval
            timerInterval = setInterval(function() {
                totalSeconds++;
                updateTimerDisplay();
            }, 1000);
        }

        // Update timer display across all elements
        function updateTimerDisplay() {
            const timeString = formatTime(totalSeconds);
            
            // Update all timer displays
            timerDisplay.textContent = timeString;
            timeSpentEl.textContent = timeString;
            timeLearningSpan.textContent = timeString;
            
            // Update progress based on sections read
            updateProgress();
        }

        // Update progress based on sections read
        function updateProgress() {
            const totalSections = 3; // We have 3 main sections
            const progressPercentage = Math.min((sectionsCompleted.size / totalSections) * 100, 100);
            progressFill.style.width = `${progressPercentage}%`;
            
            // Update completed count
            completedCountEl.textContent = sectionsCompleted.size;
            
            // Update timer appearance based on time
            const timerElement = document.getElementById('timer');
            if (totalSeconds >= 900) { // 15 minutes or more
                timerElement.classList.add('warning');
                timerElement.classList.remove('critical');
            } else if (totalSeconds >= 1200) { // 20 minutes or more
                timerElement.classList.add('critical');
                timerElement.classList.remove('warning');
            } else {
                timerElement.classList.remove('warning', 'critical');
            }
        }

        // Update quiz score display
        function updateQuizScore(score, totalQuestions) {
            const percentage = Math.round((score / totalQuestions) * 100);
            quizScoreEl.textContent = `${percentage}%`;
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Start the continuous timer
            startTimer();
            
            // Set up option selection
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.dataset.question;
                    // Remove selected class from all options in this question
                    document.querySelectorAll(`.option[data-question="${question}"]`)
                        .forEach(opt => opt.classList.remove('selected'));
                    // Add selected class to clicked option
                    this.classList.add('selected');
                });
            });

            // Track section reading progress
            const sections = document.querySelectorAll('.section');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const sectionNumber = entry.target.dataset.section;
                        if (!sectionsCompleted.has(sectionNumber)) {
                            sectionsCompleted.add(sectionNumber);
                            updateProgress();
                        }
                    }
                });
            }, { threshold: 0.5 });
            
            sections.forEach(section => observer.observe(section));
        });

        function checkAnswers() {
            // Mark quiz as completed
            quizCompleted = true;
            
            const correctAnswers = {
                1: 'B',
                2: 'B',
                3: 'B',
                4: 'B'
            };

            let score = 0;
            const totalQuestions = 4;
            let feedbackHTML = '';

            // Check each question
            for (let i = 1; i <= totalQuestions; i++) {
                const selectedOption = document.querySelector(`.option.selected[data-question="${i}"]`);
                if (selectedOption) {
                    const userAnswer = selectedOption.dataset.answer;
                    const isCorrect = userAnswer === correctAnswers[i];
                    
                    if (isCorrect) {
                        score++;
                        selectedOption.style.borderColor = '#10b981';
                        selectedOption.style.background = 'rgba(16, 185, 129, 0.1)';
                    } else {
                        selectedOption.style.borderColor = '#ef4444';
                        selectedOption.style.background = 'rgba(239, 68, 68, 0.1)';
                        
                        // Highlight correct answer
                        const correctOption = document.querySelector(`.option[data-question="${i}"][data-answer="${correctAnswers[i]}"]`);
                        if (correctOption) {
                            correctOption.style.borderColor = '#10b981';
                            correctOption.style.background = 'rgba(16, 185, 129, 0.1)';
                            correctOption.style.fontWeight = '600';
                        }
                    }
                }
            }

            // Update quiz score
            updateQuizScore(score, totalQuestions);
            
            // Calculate percentage
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Show results
            document.getElementById('score').textContent = `${score}/${totalQuestions} (${percentage}%)`;
            
            // Generate feedback based on score
            if (score === totalQuestions) {
                feedbackHTML = 'üéâ Excellent! You understand the key differences between city and rural driving. ';
            } else if (score >= totalQuestions * 0.7) {
                feedbackHTML = 'üëç Good job! You grasp most key concepts about road environments. Review the incorrect answers to strengthen your knowledge. ';
            } else {
                feedbackHTML = 'üìö Review the lesson material and try again. Understanding these differences is crucial for safe driving in all environments. ';
            }
            
            feedbackHTML += 'Remember these key principles for road navigation:';
            document.getElementById('feedback').innerHTML = feedbackHTML;
            
            // Show results
            document.getElementById('results').classList.add('show');
            
            // Show completion message
            completionTime.textContent = formatTime(totalSeconds);
            completionMessage.classList.add('show');
            
            // Update timer to show "Completed" state
            timerDisplay.textContent = formatTime(totalSeconds);
            const timerElement = document.getElementById('timer');
            timerElement.style.background = 'linear-gradient(135deg, #10b981, #34d399)';
            
            // Update progress bar to 100%
            progressFill.style.width = '100%';
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // Optional: Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !quizCompleted) {
                checkAnswers();
            }
        });
    </script>
</body>
</html>
