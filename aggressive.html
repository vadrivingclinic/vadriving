<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VA Driving Clinic - Aggressive Driving Awareness</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --color-danger: #dc2626;
            --color-warning: #f59e0b;
            --color-success: #10b981;
            --color-info: #3b82f6;
            --color-dark: #1e293b;
            --color-bg: #ffffff;
            --color-text: #1e293b;
            --color-muted: #64748b;
            --radius: 12px;
            --shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: var(--color-text);
            line-height: 1.5;
            padding: 15px;
            min-height: 100vh;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        @keyframes roadMove {
            0% { background-position: 0 0; }
            100% { background-position: -100px 0; }
        }

        .module-container {
            max-width: 900px;
            margin: 0 auto;
            animation: fadeIn 0.4s ease-out;
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-logo {
            height: 45px;
            width: auto;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .module-title {
            font-size: 1rem;
            color: var(--color-danger);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }

        .main-title {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            text-align: center;
            background: linear-gradient(135deg, #dc2626, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            text-align: center;
            color: var(--color-muted);
            margin-bottom: 25px;
            font-size: 1.1rem;
        }

        /* Timer */
        .timer-container {
            background: linear-gradient(135deg, #dc2626, #f59e0b);
            color: white;
            border-radius: 40px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.2);
            font-weight: 700;
            margin-bottom: 25px;
        }

        .timer-display {
            font-family: 'Courier New', monospace;
            font-size: 1.5rem;
            font-weight: 800;
            letter-spacing: 2px;
        }

        /* Progress Navigation */
        .progress-nav {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 25px;
        }

        @media (max-width: 768px) {
            .progress-nav {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .nav-step {
            background: white;
            border: 2px solid rgba(220, 38, 38, 0.2);
            border-radius: var(--radius);
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .nav-step:hover {
            background: rgba(220, 38, 38, 0.05);
            border-color: var(--color-danger);
        }

        .nav-step.active {
            background: var(--color-danger);
            color: white;
            border-color: var(--color-danger);
        }

        /* Content Sections */
        .content-section {
            display: none;
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .section-title {
            font-size: 1.6rem;
            font-weight: 800;
            margin-bottom: 20px;
            color: var(--color-text);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-icon {
            font-size: 1.8rem;
        }

        /* Statistics Banner */
        .stats-banner {
            background: linear-gradient(135deg, #dc2626, #f59e0b);
            border-radius: var(--radius);
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            color: white;
            box-shadow: 0 8px 25px rgba(220, 38, 38, 0.2);
        }

        .stat-number {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 10px;
        }

        .stat-text {
            font-size: 1.2rem;
            font-weight: 600;
            opacity: 0.95;
        }

        /* Aggressive Behaviors Grid */
        .behaviors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .behavior-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            border: 2px solid rgba(220, 38, 38, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .behavior-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            border-color: var(--color-danger);
        }

        .behavior-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .behavior-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(220, 38, 38, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--color-danger);
            flex-shrink: 0;
        }

        .behavior-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--color-text);
        }

        .behavior-desc {
            color: var(--color-muted);
            line-height: 1.5;
        }

        .risk-level {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .risk-high { background: rgba(220, 38, 38, 0.2); color: var(--color-danger); }
        .risk-medium { background: rgba(245, 158, 11, 0.2); color: var(--color-warning); }
        .risk-low { background: rgba(59, 130, 246, 0.2); color: var(--color-info); }

        /* Interactive Road Simulation */
        .road-simulation {
            background: var(--color-dark);
            border-radius: var(--radius);
            padding: 30px;
            margin: 25px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .simulation-title {
            color: white;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .driving-scene {
            width: 100%;
            height: 200px;
            background: #334155;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            border: 3px solid #475569;
        }

        .road-lane {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent 49%, #e2e8f0 50%, transparent 51%);
            background-size: 100px 100%;
            animation: roadMove 2s linear infinite;
        }

        .your-car {
            position: absolute;
            width: 80px;
            height: 40px;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 8px;
            transition: all 0.1s ease;
            z-index: 10;
        }

        .aggressive-car {
            position: absolute;
            width: 80px;
            height: 40px;
            background: linear-gradient(135deg, #dc2626, #ef4444);
            border-radius: 8px;
            z-index: 5;
        }

        .scenario-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .scenario-controls {
                grid-template-columns: 1fr;
            }
        }

        .scenario-btn {
            padding: 12px;
            background: white;
            border: 2px solid rgba(220, 38, 38, 0.2);
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .scenario-btn:hover {
            border-color: var(--color-danger);
            transform: translateY(-2px);
        }

        .scenario-btn.active {
            background: var(--color-danger);
            color: white;
            border-color: var(--color-danger);
        }

        /* Real Cases */
        .cases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .case-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            border: 1px solid rgba(220, 38, 38, 0.1);
            transition: all 0.3s ease;
        }

        .case-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            border-color: var(--color-danger);
        }

        .case-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .case-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(220, 38, 38, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--color-danger);
            flex-shrink: 0;
        }

        .case-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--color-text);
        }

        .case-details {
            margin-bottom: 15px;
        }

        .case-detail {
            margin-bottom: 8px;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        .case-detail strong {
            color: var(--color-danger);
            min-width: 100px;
        }

        .consequences {
            background: rgba(220, 38, 38, 0.05);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid var(--color-danger);
        }

        .consequences-title {
            font-weight: 700;
            color: var(--color-danger);
            margin-bottom: 8px;
        }

        /* Prevention Strategies */
        .strategies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .strategy-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            border: 2px solid rgba(16, 185, 129, 0.1);
            transition: all 0.3s ease;
        }

        .strategy-card:hover {
            transform: translateY(-5px);
            border-color: var(--color-success);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.1);
        }

        .strategy-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .strategy-title {
            font-weight: 700;
            color: var(--color-success);
            margin-bottom: 10px;
        }

        .strategy-desc {
            color: var(--color-muted);
            line-height: 1.5;
        }

        /* Interactive Quiz */
        .quiz-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            margin: 25px 0;
            border: 2px solid rgba(220, 38, 38, 0.1);
        }

        .quiz-question {
            margin-bottom: 25px;
        }

        .question-text {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--color-text);
            line-height: 1.4;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            padding: 15px;
            background: white;
            border: 2px solid rgba(220, 38, 38, 0.2);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .quiz-option:hover {
            border-color: var(--color-danger);
            background: rgba(220, 38, 38, 0.05);
        }

        .quiz-option.selected {
            border-color: var(--color-danger);
            background: rgba(220, 38, 38, 0.1);
            font-weight: 600;
        }

        .quiz-option.correct {
            border-color: var(--color-success);
            background: rgba(16, 185, 129, 0.1);
        }

        .quiz-option.incorrect {
            border-color: var(--color-danger);
            background: rgba(220, 38, 38, 0.1);
        }

        .option-label {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(220, 38, 38, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--color-danger);
            flex-shrink: 0;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 14px 35px;
            background: linear-gradient(135deg, #dc2626, #f59e0b);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            min-width: 180px;
        }

        .action-btn:hover {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(220, 38, 38, 0.3);
        }

        .action-btn.secondary {
            background: white;
            border: 2px solid var(--color-warning);
            color: var(--color-warning);
        }

        .action-btn.secondary:hover {
            background: rgba(245, 158, 11, 0.1);
        }

        /* Completion Screen */
        .completion-screen {
            display: none;
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: var(--radius);
            padding: 40px;
            text-align: center;
            border: 2px solid var(--color-success);
            color: white;
        }

        .completion-screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .completion-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 20px;
            color: #86efac;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .completion-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin: 40px 0;
        }

        @media (max-width: 768px) {
            .completion-stats {
                grid-template-columns: 1fr;
            }
        }

        .completion-stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--color-success);
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #cbd5e1;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .pledge-card {
            background: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius);
            padding: 30px;
            margin: 30px 0;
            border: 2px solid var(--color-success);
        }

        .pledge-title {
            font-weight: 700;
            color: #86efac;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .pledge-list {
            text-align: left;
            display: inline-block;
            margin: 0 auto;
            color: #cbd5e1;
        }

        .pledge-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .pledge-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--color-success);
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Feedback Messages */
        .feedback-message {
            background: rgba(220, 38, 38, 0.05);
            border-radius: var(--radius);
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--color-danger);
        }

        .feedback-title {
            font-weight: 700;
            color: var(--color-danger);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .main-title {
                font-size: 1.8rem;
            }
            
            .section-title {
                font-size: 1.4rem;
            }
            
            .stat-number {
                font-size: 2.5rem;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .action-btn {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="module-container">
        <!-- Header -->
        <div class="header">
            <div class="brand">
                <img src="https://lwfiles.mycourse.app/vadrivingclinic-public/9f5c6b8121721c8ef241f929fd983b3e.png" 
                     alt="VA Driving Clinic Logo" class="brand-logo">
                <div class="module-title">Aggressive Driving Awareness</div>
            </div>
        </div>

        <!-- Main Title -->
        <h1 class="main-title">Aggressive Driving: The Road to Disaster</h1>
        <div class="subtitle">10-Minute Interactive Awareness Module</div>

        <!-- Timer -->
        <div class="timer-container">
            <div class="timer-display" id="timer">10:00</div>
        </div>

        <!-- Progress Navigation -->
        <div class="progress-nav">
            <div class="nav-step active" onclick="showSection(1)">The Problem</div>
            <div class="nav-step" onclick="showSection(2)">Real Cases</div>
            <div class="nav-step" onclick="showSection(3)">Road Simulation</div>
            <div class="nav-step" onclick="showSection(4)">Prevention Quiz</div>
        </div>

        <!-- Section 1: The Problem -->
        <div class="content-section active" id="section-1">
            <h2 class="section-title">
                <span class="section-icon">‚ö†Ô∏è</span>
                Understanding Aggressive Driving
            </h2>

            <div class="stats-banner">
                <div class="stat-number">1/3</div>
                <div class="stat-text">of all crashes involve aggressive driving behaviors</div>
            </div>

            <p style="margin-bottom: 20px; line-height: 1.6;">
                Aggressive driving refers to a pattern of driving behaviors that are hostile, dangerous, and intended 
                to intimidate or harm other road users. It's not just bad manners - it's criminal behavior that kills.
            </p>

            <h3 style="margin: 25px 0 15px 0; color: var(--color-danger);">Common Aggressive Behaviors:</h3>
            
            <div class="behaviors-grid">
                <div class="behavior-card">
                    <div class="risk-level risk-high">High Risk</div>
                    <div class="behavior-header">
                        <div class="behavior-icon">üèéÔ∏è</div>
                        <div class="behavior-title">Speeding & Racing</div>
                    </div>
                    <div class="behavior-desc">
                        Excessive speeding, racing other vehicles, and competing on public roads. 
                        Increases stopping distance and reduces control.
                    </div>
                </div>

                <div class="behavior-card">
                    <div class="risk-level risk-high">High Risk</div>
                    <div class="behavior-header">
                        <div class="behavior-icon">üöò</div>
                        <div class="behavior-title">Tailgating</div>
                    </div>
                    <div class="behavior-desc">
                        Following too closely, often with high-beam flashing. Leaves no reaction 
                        time if the vehicle ahead stops suddenly.
                    </div>
                </div>

                <div class="behavior-card">
                    <div class="risk-level risk-medium">Medium Risk</div>
                    <div class="behavior-header">
                        <div class="behavior-icon">üîÑ</div>
                        <div class="behavior-title">Weaving Through Traffic</div>
                    </div>
                    <div class="behavior-desc">
                        Frequent, unsafe lane changes without signaling. Startles other drivers 
                        and causes chain reactions.
                    </div>
                </div>

                <div class="behavior-card">
                    <div class="risk-level risk-high">High Risk</div>
                    <div class="behavior-header">
                        <div class="behavior-icon">üö¶</div>
                        <div class="behavior-title">Running Red Lights</div>
                    </div>
                    <div class="behavior-desc">
                        Deliberately ignoring traffic signals. Causes T-bone collisions at 
                        intersections - often fatal.
                    </div>
                </div>
            </div>

            <div class="feedback-message">
                <div class="feedback-title">üéØ Key Fact</div>
                <div>Aggressive driving plays a role in approximately two-thirds of all traffic fatalities on U.S. roads.</div>
            </div>

            <div class="action-buttons">
                <button class="action-btn" onclick="showSection(2)">
                    See Real Cases ‚Üí
                </button>
            </div>
        </div>

        <!-- Section 2: Real Cases -->
        <div class="content-section" id="section-2">
            <h2 class="section-title">
                <span class="section-icon">üì∞</span>
                2024 Real-Life Consequences
            </h2>

            <p style="margin-bottom: 25px;">
                These recent cases show how quickly aggressive driving can turn deadly:
            </p>

            <div class="cases-grid">
                <!-- Case 1: New York -->
                <div class="case-card">
                    <div class="case-header">
                        <div class="case-icon">üóΩ</div>
                        <div class="case-title">New York City Road Rage</div>
                    </div>
                    <div class="case-details">
                        <div class="case-detail">
                            <strong>Situation:</strong> Heavy traffic frustration
                        </div>
                        <div class="case-detail">
                            <strong>Behaviors:</strong> Tailgating, aggressive honking
                        </div>
                        <div class="case-detail">
                            <strong>Escalation:</strong> Attempted unsafe overtaking
                        </div>
                        <div class="case-detail">
                            <strong>Result:</strong> Multi-vehicle collision
                        </div>
                    </div>
                    <div class="consequences">
                        <div class="consequences-title">üö® Consequences</div>
                        <div>‚Ä¢ Multiple injuries</div>
                        <div>‚Ä¢ Significant property damage</div>
                        <div>‚Ä¢ Reckless driving charges</div>
                        <div>‚Ä¢ Insurance claims exceeding $50,000</div>
                    </div>
                </div>

                <!-- Case 2: California -->
                <div class="case-card">
                    <div class="case-header">
                        <div class="case-icon">üåâ</div>
                        <div class="case-title">Los Angeles Fatal Crash</div>
                    </div>
                    <div class="case-details">
                        <div class="case-detail">
                            <strong>Situation:</strong> Attempting to make up time
                        </div>
                        <div class="case-detail">
                            <strong>Behaviors:</strong> Excessive speeding, weaving
                        </div>
                        <div class="case-detail">
                            <strong>Result:</strong> Loss of control, collision
                        </div>
                        <div class="case-detail">
                            <strong>Fatalities:</strong> 2 passengers killed
                        </div>
                    </div>
                    <div class="consequences">
                        <div class="consequences-title">‚öñÔ∏è Legal Consequences</div>
                        <div>‚Ä¢ Vehicular manslaughter charges</div>
                        <div>‚Ä¢ Reckless driving with injury</div>
                        <div>‚Ä¢ 5-10 year prison sentence</div>
                        <div>‚Ä¢ Lifetime driver's license revocation</div>
                    </div>
                </div>

                <!-- Case 3: Texas -->
                <div class="case-card">
                    <div class="case-header">
                        <div class="case-icon">ü§†</div>
                        <div class="case-title">Texas Highway Confrontation</div>
                    </div>
                    <div class="case-details">
                        <div class="case-detail">
                            <strong>Situation:</strong> Highway impatience
                        </div>
                        <div class="case-detail">
                            <strong>Behaviors:</strong> Tailgating, headlight flashing
                        </div>
                        <div class="case-detail">
                            <strong>Result:</strong> Intimidated driver panics
                        </div>
                        <div class="case-detail">
                            <strong>Crash:</strong> Multi-car pileup
                        </div>
                    </div>
                    <div class="consequences">
                        <div class="consequences-title">üí∏ Costs & Penalties</div>
                        <div>‚Ä¢ Multiple injuries requiring hospitalization</div>
                        <div>‚Ä¢ Highway closed for 4 hours</div>
                        <div>‚Ä¢ Aggressive driving citation</div>
                        <div>‚Ä¢ Civil lawsuits from other drivers</div>
                    </div>
                </div>
            </div>

            <div class="feedback-message">
                <div class="feedback-title">üìä Average Costs of Aggressive Driving</div>
                <div>‚Ä¢ First offense: $500-$1,000 fine + 30-day license suspension</div>
                <div>‚Ä¢ With injury: $2,500-$5,000 fine + 6 months jail + 90-day suspension</div>
                <div>‚Ä¢ Fatal crash: Felony charges, 1-10 years prison, permanent license revocation</div>
            </div>

            <div class="action-buttons">
                <button class="action-btn secondary" onclick="showSection(1)">
                    ‚Üê Back to Problem
                </button>
                <button class="action-btn" onclick="showSection(3)">
                    Try Road Simulation ‚Üí
                </button>
            </div>
        </div>

        <!-- Section 3: Road Simulation -->
        <div class="content-section" id="section-3">
            <h2 class="section-title">
                <span class="section-icon">üéÆ</span>
                Road Simulation Challenge
            </h2>

            <p style="margin-bottom: 25px;">
                Experience how aggressive driving behaviors create dangerous situations:
            </p>

            <div class="road-simulation">
                <div class="simulation-title">Encounter an Aggressive Driver</div>
                
                <div class="driving-scene" id="driving-scene">
                    <div class="road-lane"></div>
                    <div class="your-car" id="your-car"></div>
                </div>

                <div class="scenario-controls">
                    <div class="scenario-btn active" onclick="startScenario('tailgating')" id="btn-tailgating">
                        Tailgating Scenario
                    </div>
                    <div class="scenario-btn" onclick="startScenario('weaving')" id="btn-weaving">
                        Weaving Scenario
                    </div>
                    <div class="scenario-btn" onclick="startScenario('speeding')" id="btn-speeding">
                        Speeding Scenario
                    </div>
                </div>

                <div style="background: white; border-radius: var(--radius); padding: 20px; margin: 20px 0; text-align: left;">
                    <div style="font-weight: 700; color: var(--color-danger); margin-bottom: 10px;">
                        üéØ Your Response Options:
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div style="padding: 10px; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                            <div style="font-weight: 600; margin-bottom: 5px;">‚úÖ Safe Response</div>
                            <div style="font-size: 0.9rem;">Maintain speed, keep right, let them pass</div>
                        </div>
                        <div style="padding: 10px; background: rgba(220, 38, 38, 0.1); border-radius: 8px;">
                            <div style="font-weight: 600; margin-bottom: 5px;">‚ùå Risky Response</div>
                            <div style="font-size: 0.9rem;">Brake check, retaliate, block them</div>
                        </div>
                    </div>
                </div>

                <div id="scenario-feedback" style="background: rgba(16, 185, 129, 0.1); border-radius: var(--radius); padding: 15px; margin: 15px 0; display: none;">
                    <div style="font-weight: 700; color: var(--color-success); margin-bottom: 8px;">
                        ‚úÖ Safe Driving Choice!
                    </div>
                    <div id="feedback-text">You made the right decision by staying calm and letting the aggressive driver pass safely.</div>
                </div>
            </div>

            <div class="strategies-grid">
                <div class="strategy-card">
                    <div class="strategy-icon">üòå</div>
                    <div class="strategy-title">Stay Calm</div>
                    <div class="strategy-desc">Take deep breaths, don't take aggressive behavior personally</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üöó</div>
                    <div class="strategy-title">Let Them Pass</div>
                    <div class="strategy-desc">Safely move out of the way - they're someone else's problem now</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üì±</div>
                    <div class="strategy-title">Report Safely</div>
                    <div class="strategy-desc">If behavior is dangerous, pull over and call police with description</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">‚è∞</div>
                    <div class="strategy-title">Plan Ahead</div>
                    <div class="strategy-desc">Leave early to avoid time pressure that causes aggression</div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="action-btn secondary" onclick="showSection(2)">
                    ‚Üê Back to Cases
                </button>
                <button class="action-btn" onclick="showSection(4)">
                    Take Prevention Quiz ‚Üí
                </button>
            </div>
        </div>

        <!-- Section 4: Prevention Quiz -->
        <div class="content-section" id="section-4">
            <h2 class="section-title">
                <span class="section-icon">üß†</span>
                Prevention Knowledge Quiz
            </h2>

            <div class="quiz-container">
                <div class="quiz-question">
                    <div class="question-text" id="question-text">
                        What percentage of all traffic crashes involve aggressive driving behaviors?
                    </div>
                    <div class="quiz-options" id="quiz-options">
                        <div class="quiz-option" onclick="selectAnswer(0)">
                            <div class="option-label">A</div>
                            <div>About 10%</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(1)">
                            <div class="option-label">B</div>
                            <div>About 20%</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(2)">
                            <div class="option-label">C</div>
                            <div>About 33% (one-third)</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(3)">
                            <div class="option-label">D</div>
                            <div>About 50%</div>
                        </div>
                    </div>
                </div>

                <div id="quiz-feedback" style="display: none;">
                    <div class="feedback-message">
                        <div class="feedback-title" id="feedback-title">üìù Feedback</div>
                        <div id="feedback-message"></div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-btn" onclick="checkAnswer()" id="check-btn">
                        Check Answer
                    </button>
                    <button class="action-btn secondary" onclick="nextQuestion()" id="next-btn" style="display: none;">
                        Next Question
                    </button>
                </div>
            </div>

            <div style="background: rgba(245, 158, 11, 0.1); border-radius: var(--radius); padding: 20px; margin: 25px 0;">
                <h3 style="color: var(--color-warning); margin-bottom: 15px;">üö® Immediate Action Steps</h3>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                    <div>
                        <div style="font-weight: 700; margin-bottom: 8px;">When YOU feel aggressive:</div>
                        <ul style="padding-left: 20px; font-size: 0.9rem;">
                            <li>Pull over and take 5 deep breaths</li>
                            <li>Listen to calming music</li>
                            <li>Call someone to vent</li>
                            <li>Adjust your schedule expectations</li>
                        </ul>
                    </div>
                    <div>
                        <div style="font-weight: 700; margin-bottom: 8px;">When OTHERS are aggressive:</div>
                        <ul style="padding-left: 20px; font-size: 0.9rem;">
                            <li>Don't make eye contact</li>
                            <li>Don't gesture or retaliate</li>
                            <li>Create space between vehicles</li>
                            <li>Change lanes or take an exit</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="action-btn secondary" onclick="showSection(3)">
                    ‚Üê Back to Simulation
                </button>
                <button class="action-btn" onclick="completeModule()">
                    Complete Module
                </button>
            </div>
        </div>

        <!-- Completion Screen -->
        <div class="completion-screen" id="completion-screen">
            <h2 class="completion-title">
                <span>üéì</span>
                Module Completed!
            </h2>
            <p style="font-size: 1.1rem; color: #cbd5e1; margin-bottom: 20px;">
                You've learned how to recognize and prevent aggressive driving
            </p>

            <div class="completion-stats">
                <div class="completion-stat">
                    <div class="stat-value" id="time-stat">10:00</div>
                    <div class="stat-label">Time Learning</div>
                </div>
                <div class="completion-stat">
                    <div class="stat-value" id="quiz-stat">0%</div>
                    <div class="stat-label">Quiz Accuracy</div>
                </div>
                <div class="completion-stat">
                    <div class="stat-value">4</div>
                    <div class="stat-label">Scenarios Explored</div>
                </div>
            </div>

            <div class="pledge-card">
                <div class="pledge-title">üìã Your Calm Driving Pledge</div>
                <ul class="pledge-list">
                    <li>I will never let traffic frustrations control my driving</li>
                    <li>I will always leave early to avoid time pressure</li>
                    <li>I will never retaliate against aggressive drivers</li>
                    <li>I will create safe space when encountering aggression</li>
                    <li>I will pull over and calm down if I feel road rage</li>
                </ul>
            </div>

            <div class="action-buttons">
                <button class="action-btn" onclick="location.reload()">
                    Review Again
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== GLOBAL STATE ==========
        const moduleState = {
            currentSection: 1,
            quizScore: 0,
            totalQuestions: 0,
            currentScenario: 'tailgating',
            startTime: Date.now()
        };

        // ========== TIMER MANAGEMENT ==========
        let moduleTimer;
        let timeLeft = 600; // 10 minutes

        function startTimer() {
            moduleTimer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    completeModule();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // ========== SECTION NAVIGATION ==========
        function showSection(sectionNum) {
            moduleState.currentSection = sectionNum;
            
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Update navigation
            document.querySelectorAll('.nav-step').forEach((step, index) => {
                step.classList.remove('active');
                if (index === sectionNum - 1) {
                    step.classList.add('active');
                }
            });
            
            // Show selected section
            document.getElementById(`section-${sectionNum}`).classList.add('active');
        }

        // ========== ROAD SIMULATION ==========
        function startScenario(scenario) {
            moduleState.currentScenario = scenario;
            
            // Update UI
            document.querySelectorAll('.scenario-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`btn-${scenario}`).classList.add('active');
            
            // Show scenario-specific feedback
            const feedback = document.getElementById('scenario-feedback');
            const feedbackText = document.getElementById('feedback-text');
            
            let feedbackContent = '';
            let scenarioTitle = '';
            
            switch(scenario) {
                case 'tailgating':
                    scenarioTitle = 'Tailgating Encounter';
                    feedbackContent = 'You made the right decision by maintaining your speed and eventually moving right to let the tailgater pass. Brake checking could have caused a rear-end collision.';
                    break;
                case 'weaving':
                    scenarioTitle = 'Weaving Through Traffic';
                    feedbackContent = 'Good choice to maintain your lane position and speed. Trying to block or race a weaving driver increases everyone\'s risk.';
                    break;
                case 'speeding':
                    scenarioTitle = 'Aggressive Speeding';
                    feedbackContent = 'Correct! Never try to keep up with or race a speeding driver. Your responsibility is to drive safely, not competitively.';
                    break;
            }
            
            feedbackText.textContent = feedbackContent;
            feedback.style.display = 'block';
            
            // Simulate aggressive car
            simulateAggressiveCar(scenario);
        }

        function simulateAggressiveCar(scenario) {
            const scene = document.getElementById('driving-scene');
            
            // Remove any existing aggressive car
            const existingCar = scene.querySelector('.aggressive-car');
            if (existingCar) existingCar.remove();
            
            const aggressiveCar = document.createElement('div');
            aggressiveCar.className = 'aggressive-car';
            
            // Position based on scenario
            switch(scenario) {
                case 'tailgating':
                    aggressiveCar.style.bottom = '30px';
                    aggressiveCar.style.right = '20%';
                    aggressiveCar.style.transform = 'translateX(0)';
                    break;
                case 'weaving':
                    aggressiveCar.style.bottom = '80px';
                    aggressiveCar.style.left = '30%';
                    break;
                case 'speeding':
                    aggressiveCar.style.bottom = '30px';
                    aggressiveCar.style.left = '70%';
                    break;
            }
            
            scene.appendChild(aggressiveCar);
        }

        // ========== QUIZ SYSTEM ==========
        const quizQuestions = [
            {
                question: "What percentage of all traffic crashes involve aggressive driving behaviors?",
                options: ["About 10%", "About 20%", "About 33% (one-third)", "About 50%"],
                correct: 2,
                explanation: "‚úÖ Correct! NHTSA reports aggressive driving plays a role in approximately one-third of all traffic crashes."
            },
            {
                question: "What is the safest response to a tailgating driver?",
                options: ["Brake check to teach them a lesson", "Speed up to get away from them", "Maintain speed and let them pass when safe", "Flash your brake lights repeatedly"],
                correct: 2,
                explanation: "‚úÖ Right! Maintain your speed and safely let them pass. Aggressive responses increase danger for everyone."
            },
            {
                question: "Which factor is NOT a common cause of aggressive driving?",
                options: ["Traffic congestion", "Running late", "Good weather conditions", "Sense of anonymity"],
                correct: 2,
                explanation: "‚úÖ Correct! Good weather doesn't cause aggression. Traffic, lateness, and anonymity are major contributors."
            },
            {
                question: "What should you do if you feel road rage building?",
                options: ["Take it out on other drivers", "Pull over and take deep breaths", "Drive faster to release energy", "Play loud aggressive music"],
                correct: 1,
                explanation: "‚úÖ Perfect! Pulling over to calm down is the only safe option when you feel road rage."
            }
        ];

        let currentQuestion = 0;
        let selectedAnswer = null;

        function loadQuestion() {
            const question = quizQuestions[currentQuestion];
            document.getElementById('question-text').textContent = question.question;
            
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'quiz-option';
                optionDiv.onclick = () => selectAnswer(index);
                optionDiv.innerHTML = `
                    <div class="option-label">${String.fromCharCode(65 + index)}</div>
                    <div>${option}</div>
                `;
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('quiz-feedback').style.display = 'none';
            document.getElementById('check-btn').style.display = 'block';
            document.getElementById('next-btn').style.display = 'none';
            selectedAnswer = null;
        }

        function selectAnswer(index) {
            selectedAnswer = index;
            
            document.querySelectorAll('.quiz-option').forEach((option, i) => {
                option.classList.remove('selected');
                if (i === index) {
                    option.classList.add('selected');
                }
            });
        }

        function checkAnswer() {
            if (selectedAnswer === null) {
                alert('Please select an answer first!');
                return;
            }

            const question = quizQuestions[currentQuestion];
            const isCorrect = selectedAnswer === question.correct;
            
            moduleState.totalQuestions++;
            if (isCorrect) {
                moduleState.quizScore++;
                document.getElementById('feedback-title').innerHTML = '‚úÖ Correct!';
                document.getElementById('feedback-message').textContent = question.explanation;
            } else {
                document.getElementById('feedback-title').innerHTML = '‚ùå Incorrect';
                document.getElementById('feedback-message').textContent = question.explanation;
            }
            
            // Show correct answer
            document.querySelectorAll('.quiz-option').forEach((option, i) => {
                if (i === question.correct) {
                    option.classList.add('correct');
                } else if (i === selectedAnswer && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            document.getElementById('quiz-feedback').style.display = 'block';
            document.getElementById('check-btn').style.display = 'none';
            document.getElementById('next-btn').style.display = 'block';
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < quizQuestions.length) {
                loadQuestion();
            } else {
                // Quiz completed
                completeModule();
            }
        }

        // ========== COMPLETION ==========
        function completeModule() {
            clearInterval(moduleTimer);
            
            // Calculate stats
            const accuracy = moduleState.totalQuestions > 0 
                ? Math.round((moduleState.quizScore / moduleState.totalQuestions) * 100)
                : 0;
            
            const minutes = Math.floor((600 - timeLeft) / 60);
            const seconds = (600 - timeLeft) % 60;
            
            // Update completion screen
            document.getElementById('time-stat').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('quiz-stat').textContent = `${accuracy}%`;
            
            // Show completion screen
            document.getElementById('completion-screen').classList.add('active');
            
            // Hide other sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
        }

        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', function() {
            startTimer();
            loadQuestion();
            startScenario('tailgating');
        });
    </script>
</body>
</html>
