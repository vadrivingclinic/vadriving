<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VA Driving Clinic - Aggressive Driving Awareness</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --color-danger: #dc2626;
            --color-warning: #f59e0b;
            --color-success: #10b981;
            --color-info: #3b82f6;
            --color-dark: #1e293b;
            --color-bg: #ffffff;
            --color-text: #1e293b;
            --color-muted: #64748b;
            --radius: 12px;
            --shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: var(--color-text);
            line-height: 1.5;
            padding: 15px;
            min-height: 100vh;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        .module-container {
            max-width: 900px;
            margin: 0 auto;
            animation: fadeIn 0.4s ease-out;
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-logo {
            height: 45px;
            width: auto;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .module-title {
            font-size: 1rem;
            color: var(--color-danger);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }

        .main-title {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            text-align: center;
            background: linear-gradient(135deg, #dc2626, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            text-align: center;
            color: var(--color-muted);
            margin-bottom: 25px;
            font-size: 1.1rem;
        }

        /* Timer */
        .timer-container {
            background: linear-gradient(135deg, #dc2626, #f59e0b);
            color: white;
            border-radius: 40px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.2);
            font-weight: 700;
            margin-bottom: 25px;
        }

        .timer-display {
            font-family: 'Courier New', monospace;
            font-size: 1.5rem;
            font-weight: 800;
            letter-spacing: 2px;
        }

        /* Progress Navigation */
        .progress-nav {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 25px;
        }

        .nav-step {
            background: white;
            border: 2px solid rgba(220, 38, 38, 0.2);
            border-radius: var(--radius);
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .nav-step.active {
            background: var(--color-danger);
            color: white;
            border-color: var(--color-danger);
        }

        /* Content Sections */
        .content-section {
            display: none;
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .section-title {
            font-size: 1.6rem;
            font-weight: 800;
            margin-bottom: 20px;
            color: var(--color-text);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Statistics Banner */
        .stats-banner {
            background: linear-gradient(135deg, #dc2626, #f59e0b);
            border-radius: var(--radius);
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            color: white;
            box-shadow: 0 8px 25px rgba(220, 38, 38, 0.2);
        }

        .stat-number {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 10px;
        }

        .stat-text {
            font-size: 1.2rem;
            font-weight: 600;
            opacity: 0.95;
        }

        /* Aggressive Behaviors Grid */
        .behaviors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .behavior-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            border: 2px solid rgba(220, 38, 38, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .behavior-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            border-color: var(--color-danger);
        }

        .behavior-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .behavior-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(220, 38, 38, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--color-danger);
            flex-shrink: 0;
        }

        .behavior-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--color-text);
        }

        .behavior-desc {
            color: var(--color-muted);
            line-height: 1.5;
        }

        .risk-level {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .risk-high { background: rgba(220, 38, 38, 0.2); color: var(--color-danger); }
        .risk-medium { background: rgba(245, 158, 11, 0.2); color: var(--color-warning); }
        .risk-low { background: rgba(59, 130, 246, 0.2); color: var(--color-info); }

        /* Text Scenario Game */
        .scenario-game {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border-radius: var(--radius);
            padding: 30px;
            margin: 25px 0;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .scenario-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .scenario-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #86efac;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .scenario-progress {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 5px 15px;
            font-size: 0.9rem;
        }

        .scenario-description {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 25px;
            margin: 20px 0;
            line-height: 1.6;
            border-left: 4px solid var(--color-info);
            font-size: 1.1rem;
        }

        .scenario-choices {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin: 30px 0;
        }

        .choice-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 20px;
            color: white;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .choice-btn:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: var(--color-info);
            transform: translateY(-2px);
        }

        .choice-btn.correct {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--color-success);
        }

        .choice-btn.incorrect {
            background: rgba(220, 38, 38, 0.2);
            border-color: var(--color-danger);
        }

        .choice-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 1.2rem;
        }

        .choice-content {
            flex: 1;
        }

        .choice-title {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .choice-desc {
            opacity: 0.8;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .scenario-feedback {
            background: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius);
            padding: 25px;
            margin: 20px 0;
            border-left: 4px solid var(--color-success);
            display: none;
        }

        .scenario-feedback.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .feedback-title {
            font-weight: 700;
            margin-bottom: 10px;
            color: #86efac;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feedback-content {
            line-height: 1.6;
        }

        .scenario-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .scenario-nav-btn {
            padding: 12px 25px;
            background: var(--color-info);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .scenario-nav-btn:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }

        .scenario-nav-btn.secondary {
            background: transparent;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .scenario-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .scenario-stat {
            text-align: center;
        }

        .scenario-stat-value {
            font-size: 2rem;
            font-weight: 900;
            color: var(--color-success);
        }

        .scenario-stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Real Cases */
        .cases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .case-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            border: 1px solid rgba(220, 38, 38, 0.1);
            transition: all 0.3s ease;
        }

        .case-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            border-color: var(--color-danger);
        }

        .case-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .case-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(220, 38, 38, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--color-danger);
            flex-shrink: 0;
        }

        .case-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--color-text);
        }

        .case-details {
            margin-bottom: 15px;
        }

        .case-detail {
            margin-bottom: 8px;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        .case-detail strong {
            color: var(--color-danger);
            min-width: 100px;
        }

        .consequences {
            background: rgba(220, 38, 38, 0.05);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid var(--color-danger);
        }

        .consequences-title {
            font-weight: 700;
            color: var(--color-danger);
            margin-bottom: 8px;
        }

        /* Prevention Strategies */
        .strategies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .strategy-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            border: 2px solid rgba(16, 185, 129, 0.1);
            transition: all 0.3s ease;
        }

        .strategy-card:hover {
            transform: translateY(-5px);
            border-color: var(--color-success);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.1);
        }

        .strategy-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .strategy-title {
            font-weight: 700;
            color: var(--color-success);
            margin-bottom: 10px;
        }

        .strategy-desc {
            color: var(--color-muted);
            line-height: 1.5;
        }

        /* Interactive Quiz */
        .quiz-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            margin: 25px 0;
            border: 2px solid rgba(220, 38, 38, 0.1);
        }

        .quiz-question {
            margin-bottom: 25px;
        }

        .question-text {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--color-text);
            line-height: 1.4;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            padding: 15px;
            background: white;
            border: 2px solid rgba(220, 38, 38, 0.2);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .quiz-option:hover {
            border-color: var(--color-danger);
            background: rgba(220, 38, 38, 0.05);
        }

        .quiz-option.selected {
            border-color: var(--color-danger);
            background: rgba(220, 38, 38, 0.1);
            font-weight: 600;
        }

        .quiz-option.correct {
            border-color: var(--color-success);
            background: rgba(16, 185, 129, 0.1);
        }

        .quiz-option.incorrect {
            border-color: var(--color-danger);
            background: rgba(220, 38, 38, 0.1);
        }

        .option-label {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(220, 38, 38, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--color-danger);
            flex-shrink: 0;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 14px 35px;
            background: linear-gradient(135deg, #dc2626, #f59e0b);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            min-width: 180px;
        }

        .action-btn:hover {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(220, 38, 38, 0.3);
        }

        .action-btn.secondary {
            background: white;
            border: 2px solid var(--color-warning);
            color: var(--color-warning);
        }

        .action-btn.secondary:hover {
            background: rgba(245, 158, 11, 0.1);
        }

        .action-btn:disabled {
            background: var(--color-muted);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Completion Screen */
        .completion-screen {
            display: none;
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: var(--radius);
            padding: 40px;
            text-align: center;
            border: 2px solid var(--color-success);
            color: white;
        }

        .completion-screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .completion-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 20px;
            color: #86efac;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .completion-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin: 40px 0;
        }

        @media (max-width: 768px) {
            .completion-stats {
                grid-template-columns: 1fr;
            }
        }

        .completion-stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--color-success);
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #cbd5e1;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .pledge-card {
            background: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius);
            padding: 30px;
            margin: 30px 0;
            border: 2px solid var(--color-success);
        }

        .pledge-title {
            font-weight: 700;
            color: #86efac;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .pledge-list {
            text-align: left;
            display: inline-block;
            margin: 0 auto;
            color: #cbd5e1;
        }

        .pledge-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .pledge-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--color-success);
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Feedback Messages */
        .feedback-message {
            background: rgba(220, 38, 38, 0.05);
            border-radius: var(--radius);
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--color-danger);
        }

        .feedback-title {
            font-weight: 700;
            color: var(--color-danger);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .main-title { font-size: 1.8rem; }
            .section-title { font-size: 1.4rem; }
            .stat-number { font-size: 2.5rem; }
            .action-buttons { flex-direction: column; align-items: center; }
            .action-btn { width: 100%; max-width: 300px; }
            .choice-btn { padding: 15px; }
        }
    </style>
</head>
<body>
    <div class="module-container">
        <!-- Header -->
        <div class="header">
            <div class="brand">
                <img src="https://lwfiles.mycourse.app/vadrivingclinic-public/9f5c6b8121721c8ef241f929fd983b3e.png" 
                     alt="VA Driving Clinic Logo" class="brand-logo">
                <div class="module-title">Aggressive Driving Awareness</div>
            </div>
        </div>

        <!-- Main Title -->
        <h1 class="main-title">Aggressive Driving: The Road to Disaster</h1>
        <div class="subtitle">10-Minute Interactive Awareness Module</div>

        <!-- Timer -->
        <div class="timer-container">
            <div class="timer-display" id="timer">10:00</div>
        </div>

        <!-- Progress Navigation -->
        <div class="progress-nav">
            <div class="nav-step active" onclick="showSection(1)">The Problem</div>
            <div class="nav-step" onclick="showSection(2)">Real Cases</div>
            <div class="nav-step" onclick="showSection(3)">Scenario Game</div>
            <div class="nav-step" onclick="showSection(4)">Prevention Quiz</div>
        </div>

        <!-- Section 1: The Problem -->
        <div class="content-section active" id="section-1">
            <h2 class="section-title">
                <span class="section-icon">‚ö†Ô∏è</span>
                Understanding Aggressive Driving
            </h2>

            <div class="stats-banner">
                <div class="stat-number">1/3</div>
                <div class="stat-text">of all crashes involve aggressive driving behaviors</div>
            </div>

            <p style="margin-bottom: 20px; line-height: 1.6;">
                Aggressive driving refers to a pattern of driving behaviors that are hostile, dangerous, and intended 
                to intimidate or harm other road users. It's not just bad manners - it's criminal behavior that kills.
            </p>

            <h3 style="margin: 25px 0 15px 0; color: var(--color-danger);">Common Aggressive Behaviors:</h3>
            
            <div class="behaviors-grid">
                <div class="behavior-card">
                    <div class="risk-level risk-high">High Risk</div>
                    <div class="behavior-header">
                        <div class="behavior-icon">üèéÔ∏è</div>
                        <div class="behavior-title">Speeding & Racing</div>
                    </div>
                    <div class="behavior-desc">
                        Excessive speeding, racing other vehicles, and competing on public roads. 
                        Increases stopping distance and reduces control.
                    </div>
                </div>

                <div class="behavior-card">
                    <div class="risk-level risk-high">High Risk</div>
                    <div class="behavior-header">
                        <div class="behavior-icon">üöò</div>
                        <div class="behavior-title">Tailgating</div>
                    </div>
                    <div class="behavior-desc">
                        Following too closely, often with high-beam flashing. Leaves no reaction 
                        time if the vehicle ahead stops suddenly.
                    </div>
                </div>

                <div class="behavior-card">
                    <div class="risk-level risk-medium">Medium Risk</div>
                    <div class="behavior-header">
                        <div class="behavior-icon">üîÑ</div>
                        <div class="behavior-title">Weaving Through Traffic</div>
                    </div>
                    <div class="behavior-desc">
                        Frequent, unsafe lane changes without signaling. Startles other drivers 
                        and causes chain reactions.
                    </div>
                </div>

                <div class="behavior-card">
                    <div class="risk-level risk-high">High Risk</div>
                    <div class="behavior-header">
                        <div class="behavior-icon">üö¶</div>
                        <div class="behavior-title">Running Red Lights</div>
                    </div>
                    <div class="behavior-desc">
                        Deliberately ignoring traffic signals. Causes T-bone collisions at 
                        intersections - often fatal.
                    </div>
                </div>
            </div>

            <div class="feedback-message">
                <div class="feedback-title">üéØ Key Fact</div>
                <div>Aggressive driving plays a role in approximately two-thirds of all traffic fatalities on U.S. roads.</div>
            </div>

            <div class="action-buttons">
                <button class="action-btn" onclick="showSection(2)">
                    See Real Cases ‚Üí
                </button>
            </div>
        </div>

        <!-- Section 2: Real Cases -->
        <div class="content-section" id="section-2">
            <h2 class="section-title">
                <span class="section-icon">üì∞</span>
                2024 Real-Life Consequences
            </h2>

            <p style="margin-bottom: 25px;">
                These recent cases show how quickly aggressive driving can turn deadly:
            </p>

            <div class="cases-grid">
                <!-- Case 1: New York -->
                <div class="case-card">
                    <div class="case-header">
                        <div class="case-icon">üóΩ</div>
                        <div class="case-title">New York City Road Rage</div>
                    </div>
                    <div class="case-details">
                        <div class="case-detail">
                            <strong>Situation:</strong> Heavy traffic frustration
                        </div>
                        <div class="case-detail">
                            <strong>Behaviors:</strong> Tailgating, aggressive honking
                        </div>
                        <div class="case-detail">
                            <strong>Escalation:</strong> Attempted unsafe overtaking
                        </div>
                        <div class="case-detail">
                            <strong>Result:</strong> Multi-vehicle collision
                        </div>
                    </div>
                    <div class="consequences">
                        <div class="consequences-title">üö® Consequences</div>
                        <div>‚Ä¢ Multiple injuries</div>
                        <div>‚Ä¢ Significant property damage</div>
                        <div>‚Ä¢ Reckless driving charges</div>
                        <div>‚Ä¢ Insurance claims exceeding $50,000</div>
                    </div>
                </div>

                <!-- Case 2: California -->
                <div class="case-card">
                    <div class="case-header">
                        <div class="case-icon">üåâ</div>
                        <div class="case-title">Los Angeles Fatal Crash</div>
                    </div>
                    <div class="case-details">
                        <div class="case-detail">
                            <strong>Situation:</strong> Attempting to make up time
                        </div>
                        <div class="case-detail">
                            <strong>Behaviors:</strong> Excessive speeding, weaving
                        </div>
                        <div class="case-detail">
                            <strong>Result:</strong> Loss of control, collision
                        </div>
                        <div class="case-detail">
                            <strong>Fatalities:</strong> 2 passengers killed
                        </div>
                    </div>
                    <div class="consequences">
                        <div class="consequences-title">‚öñÔ∏è Legal Consequences</div>
                        <div>‚Ä¢ Vehicular manslaughter charges</div>
                        <div>‚Ä¢ Reckless driving with injury</div>
                        <div>‚Ä¢ 5-10 year prison sentence</div>
                        <div>‚Ä¢ Lifetime driver's license revocation</div>
                    </div>
                </div>

                <!-- Case 3: Texas -->
                <div class="case-card">
                    <div class="case-header">
                        <div class="case-icon">ü§†</div>
                        <div class="case-title">Texas Highway Confrontation</div>
                    </div>
                    <div class="case-details">
                        <div class="case-detail">
                            <strong>Situation:</strong> Highway impatience
                        </div>
                        <div class="case-detail">
                            <strong>Behaviors:</strong> Tailgating, headlight flashing
                        </div>
                        <div class="case-detail">
                            <strong>Result:</strong> Intimidated driver panics
                        </div>
                        <div class="case-detail">
                            <strong>Crash:</strong> Multi-car pileup
                        </div>
                    </div>
                    <div class="consequences">
                        <div class="consequences-title">üí∏ Costs & Penalties</div>
                        <div>‚Ä¢ Multiple injuries requiring hospitalization</div>
                        <div>‚Ä¢ Highway closed for 4 hours</div>
                        <div>‚Ä¢ Aggressive driving citation</div>
                        <div>‚Ä¢ Civil lawsuits from other drivers</div>
                    </div>
                </div>
            </div>

            <div class="feedback-message">
                <div class="feedback-title">üìä Average Costs of Aggressive Driving</div>
                <div>‚Ä¢ First offense: $500-$1,000 fine + 30-day license suspension</div>
                <div>‚Ä¢ With injury: $2,500-$5,000 fine + 6 months jail + 90-day suspension</div>
                <div>‚Ä¢ Fatal crash: Felony charges, 1-10 years prison, permanent license revocation</div>
            </div>

            <div class="action-buttons">
                <button class="action-btn secondary" onclick="showSection(1)">
                    ‚Üê Back to Problem
                </button>
                <button class="action-btn" onclick="showSection(3)">
                    Play Scenario Game ‚Üí
                </button>
            </div>
        </div>

        <!-- Section 3: Text Scenario Game -->
        <div class="content-section" id="section-3">
            <h2 class="section-title">
                <span class="section-icon">üéÆ</span>
                Driving Scenario Challenge
            </h2>

            <p style="margin-bottom: 25px;">
                Experience real-world driving scenarios and make choices to handle aggressive driving situations safely:
            </p>

            <div class="scenario-game">
                <div class="scenario-header">
                    <div class="scenario-title">
                        <span>üöó</span>
                        <span id="scenario-current-title">Scenario 1: The Tailgater</span>
                    </div>
                    <div class="scenario-progress">
                        <span id="scenario-progress">Scenario 1 of 3</span>
                    </div>
                </div>

                <div class="scenario-description" id="scenario-description">
                    You're driving on a busy two-lane highway at 65 mph (speed limit). A large pickup truck suddenly appears behind you, riding your bumper dangerously close. The driver is flashing their high beams and gesturing for you to move over, but you're already in the right lane and there's traffic ahead. What do you do?
                </div>

                <div class="scenario-stats">
                    <div class="scenario-stat">
                        <div class="scenario-stat-value" id="scenario-score">0</div>
                        <div class="scenario-stat-label">Safety Points</div>
                    </div>
                    <div class="scenario-stat">
                        <div class="scenario-stat-value" id="scenario-completed">0/3</div>
                        <div class="scenario-stat-label">Scenarios Completed</div>
                    </div>
                </div>

                <div class="scenario-choices" id="scenario-choices">
                    <!-- Choices will be populated by JavaScript -->
                </div>

                <div class="scenario-feedback" id="scenario-feedback">
                    <div class="feedback-title" id="feedback-title">‚úÖ Correct Choice!</div>
                    <div class="feedback-content" id="feedback-content">
                        You made the safe decision. Maintaining your speed and position prevents sudden maneuvers that could cause accidents.
                    </div>
                </div>

                <div class="scenario-controls">
                    <button class="scenario-nav-btn secondary" onclick="restartScenario()">
                        ‚Üª Restart Scenario
                    </button>
                    <button class="scenario-nav-btn" onclick="nextScenario()" id="next-scenario-btn" style="display: none;">
                        Next Scenario ‚Üí
                    </button>
                </div>
            </div>

            <div class="strategies-grid">
                <div class="strategy-card">
                    <div class="strategy-icon">üòå</div>
                    <div class="strategy-title">Stay Calm</div>
                    <div class="strategy-desc">Take deep breaths, don't take aggressive behavior personally</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üöó</div>
                    <div class="strategy-title">Let Them Pass</div>
                    <div class="strategy-desc">Safely move out of the way - they're someone else's problem now</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">üì±</div>
                    <div class="strategy-title">Report Safely</div>
                    <div class="strategy-desc">If behavior is dangerous, pull over and call police with description</div>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">‚è∞</div>
                    <div class="strategy-title">Plan Ahead</div>
                    <div class="strategy-desc">Leave early to avoid time pressure that causes aggression</div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="action-btn secondary" onclick="showSection(2)">
                    ‚Üê Back to Cases
                </button>
                <button class="action-btn" onclick="showSection(4)">
                    Take Prevention Quiz ‚Üí
                </button>
            </div>
        </div>

        <!-- Section 4: Prevention Quiz -->
        <div class="content-section" id="section-4">
            <h2 class="section-title">
                <span class="section-icon">üß†</span>
                Prevention Knowledge Quiz
            </h2>

            <div class="quiz-container">
                <div class="quiz-question">
                    <div class="question-text" id="question-text">
                        What percentage of all traffic crashes involve aggressive driving behaviors?
                    </div>
                    <div class="quiz-options" id="quiz-options">
                        <div class="quiz-option" onclick="selectAnswer(0)">
                            <div class="option-label">A</div>
                            <div>About 10%</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(1)">
                            <div class="option-label">B</div>
                            <div>About 20%</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(2)">
                            <div class="option-label">C</div>
                            <div>About 33% (one-third)</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(3)">
                            <div class="option-label">D</div>
                            <div>About 50%</div>
                        </div>
                    </div>
                </div>

                <div id="quiz-feedback" style="display: none;">
                    <div class="feedback-message">
                        <div class="feedback-title" id="feedback-title">üìù Feedback</div>
                        <div id="feedback-message"></div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-btn" onclick="checkAnswer()" id="check-btn">
                        Check Answer
                    </button>
                    <button class="action-btn secondary" onclick="nextQuestion()" id="next-btn" style="display: none;">
                        Next Question
                    </button>
                </div>
            </div>

            <div style="background: rgba(245, 158, 11, 0.1); border-radius: var(--radius); padding: 20px; margin: 25px 0;">
                <h3 style="color: var(--color-warning); margin-bottom: 15px;">üö® Immediate Action Steps</h3>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                    <div>
                        <div style="font-weight: 700; margin-bottom: 8px;">When YOU feel aggressive:</div>
                        <ul style="padding-left: 20px; font-size: 0.9rem;">
                            <li>Pull over and take 5 deep breaths</li>
                            <li>Listen to calming music</li>
                            <li>Call someone to vent</li>
                            <li>Adjust your schedule expectations</li>
                        </ul>
                    </div>
                    <div>
                        <div style="font-weight: 700; margin-bottom: 8px;">When OTHERS are aggressive:</div>
                        <ul style="padding-left: 20px; font-size: 0.9rem;">
                            <li>Don't make eye contact</li>
                            <li>Don't gesture or retaliate</li>
                            <li>Create space between vehicles</li>
                            <li>Change lanes or take an exit</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="action-btn secondary" onclick="showSection(3)">
                    ‚Üê Back to Scenario Game
                </button>
                <button class="action-btn" onclick="completeModule()">
                    Complete Module
                </button>
            </div>
        </div>

        <!-- Completion Screen -->
        <div class="completion-screen" id="completion-screen">
            <h2 class="completion-title">
                <span>üéì</span>
                Module Completed!
            </h2>
            <p style="font-size: 1.1rem; color: #cbd5e1; margin-bottom: 20px;">
                You've learned how to recognize and prevent aggressive driving
            </p>

            <div class="completion-stats">
                <div class="completion-stat">
                    <div class="stat-value" id="time-stat">10:00</div>
                    <div class="stat-label">Time Learning</div>
                </div>
                <div class="completion-stat">
                    <div class="stat-value" id="quiz-stat">0%</div>
                    <div class="stat-label">Quiz Accuracy</div>
                </div>
                <div class="completion-stat">
                    <div class="stat-value" id="scenario-stat">0</div>
                    <div class="stat-label">Safety Points</div>
                </div>
            </div>

            <div class="pledge-card">
                <div class="pledge-title">üìã Your Calm Driving Pledge</div>
                <ul class="pledge-list">
                    <li>I will never let traffic frustrations control my driving</li>
                    <li>I will always leave early to avoid time pressure</li>
                    <li>I will never retaliate against aggressive drivers</li>
                    <li>I will create safe space when encountering aggression</li>
                    <li>I will pull over and calm down if I feel road rage</li>
                </ul>
            </div>

            <div class="action-buttons">
                <button class="action-btn" onclick="location.reload()">
                    Review Again
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== GLOBAL STATE ==========
        const moduleState = {
            currentSection: 1,
            quizScore: 0,
            totalQuestions: 0,
            scenarioScore: 0,
            currentScenarioIndex: 0,
            startTime: Date.now()
        };

        // ========== SCENARIO DATA ==========
        const scenarios = [
            {
                id: 1,
                title: "Scenario 1: The Tailgater",
                description: "You're driving on a busy two-lane highway at 65 mph (speed limit). A large pickup truck suddenly appears behind you, riding your bumper dangerously close. The driver is flashing their high beams and gesturing for you to move over, but you're already in the right lane and there's traffic ahead. What do you do?",
                choices: [
                    {
                        title: "Maintain Speed & Stay Calm",
                        description: "Keep your current speed, maintain your lane position, and stay focused on the road ahead. Ignore the aggressive behavior.",
                        correct: true,
                        points: 10,
                        feedback: "‚úÖ Excellent! Maintaining your speed and position is the safest choice. Sudden braking or swerving could cause an accident. Aggressive drivers often move on when they don't get a reaction."
                    },
                    {
                        title: "Brake Check to Teach Them",
                        description: "Tap your brakes repeatedly to warn them to back off. They need to learn a lesson about safe following distance.",
                        correct: false,
                        points: 0,
                        feedback: "‚ùå Dangerous! Brake checking escalates the situation and could cause a rear-end collision. Even a minor tap could startle them into swerving or hitting you."
                    },
                    {
                        title: "Speed Up to Get Away",
                        description: "Accelerate to create more distance, even if it means exceeding the speed limit by 10-15 mph.",
                        correct: false,
                        points: 0,
                        feedback: "‚ùå Risky! Speeding to escape an aggressive driver puts you at risk of losing control and violating traffic laws. You might encounter more hazards ahead."
                    },
                    {
                        title: "Find Safe Spot to Pull Over",
                        description: "Signal and carefully move to the shoulder when safe, letting them pass before continuing.",
                        correct: true,
                        points: 8,
                        feedback: "‚úÖ Good safe option! If there's a safe opportunity to let them pass, this removes the immediate threat. Just ensure you're completely off the roadway and visible."
                    }
                ]
            },
            {
                id: 2,
                title: "Scenario 2: The Lane Weaver",
                description: "On a crowded interstate, you notice a car rapidly weaving between lanes without signaling. They cut you off closely, then brake suddenly. A moment later, they're tailgating the car ahead. You're in the middle lane with moderate traffic. What's your response?",
                choices: [
                    {
                        title: "Create Space & Stay Put",
                        description: "Increase following distance from all vehicles, maintain your lane, and avoid eye contact with the aggressive driver.",
                        correct: true,
                        points: 10,
                        feedback: "‚úÖ Perfect! Creating a 'safety bubble' gives you more reaction time. Staying in your lane reduces the chance of unpredictable interactions with the weaver."
                    },
                    {
                        title: "Honk & Gesture at Them",
                        description: "Use your horn and make eye contact to show disapproval of their dangerous driving.",
                        correct: false,
                        points: 0,
                        feedback: "‚ùå Escalating! Confronting aggressive drivers often makes them more dangerous. They might retaliate with even more reckless behavior."
                    },
                    {
                        title: "Take Next Exit & Wait",
                        description: "Exit at the next opportunity, wait 5 minutes at a gas station, then continue your trip.",
                        correct: true,
                        points: 9,
                        feedback: "‚úÖ Very smart! Removing yourself from the situation entirely is the ultimate safe choice. A short delay is better than potential danger."
                    },
                    {
                        title: "Match Their Speed to Monitor",
                        description: "Speed up slightly to keep them in sight while you consider calling police.",
                        correct: false,
                        points: 0,
                        feedback: "‚ùå Not recommended! Trying to monitor an aggressive driver while driving distracts you and could involve you in their dangerous maneuvers."
                    }
                ]
            },
            {
                id: 3,
                title: "Scenario 3: The Road Rage Encounter",
                description: "After a minor disagreement at a merge point, another driver follows you off the highway. They're shouting and gesturing aggressively. You're now in a residential area. What do you do?",
                choices: [
                    {
                        title: "Drive to Police Station",
                        description: "Don't go home. Drive directly to the nearest police station or well-lit public area with people.",
                        correct: true,
                        points: 10,
                        feedback: "‚úÖ Excellent crisis management! Never lead an aggressive driver to your home. Police stations are safe destinations that typically deter further confrontation."
                    },
                    {
                        title: "Confront Them Calmly",
                        description: "Pull over in a safe spot and try to have a calm conversation to resolve the misunderstanding.",
                        correct: false,
                        points: 0,
                        feedback: "‚ùå Highly dangerous! Never engage with someone showing road rage. Emotions are too high for rational conversation, and physical confrontation is possible."
                    },
                    {
                        title: "Use Emergency Flashers",
                        description: "Turn on your hazard lights and drive normally, signaling you're aware of the situation but not engaging.",
                        correct: true,
                        points: 7,
                        feedback: "‚úÖ Good awareness signal! Hazards alert other drivers that something unusual is happening. Combine this with driving to a safe public location."
                    },
                    {
                        title: "Speed Through Neighborhood",
                        description: "Accelerate and make quick turns to lose them in the neighborhood streets.",
                        correct: false,
                        points: 0,
                        feedback: "‚ùå Creates new dangers! Speeding in residential areas risks hitting children, pets, or other vehicles. It also increases your own risk of losing control."
                    }
                ]
            }
        ];

        // ========== SCENARIO GAME FUNCTIONS ==========
        function loadScenario(index) {
            moduleState.currentScenarioIndex = index;
            const scenario = scenarios[index];
            
            // Update UI
            document.getElementById('scenario-current-title').textContent = scenario.title;
            document.getElementById('scenario-description').textContent = scenario.description;
            document.getElementById('scenario-progress').textContent = `Scenario ${index + 1} of ${scenarios.length}`;
            
            // Load choices
            const choicesContainer = document.getElementById('scenario-choices');
            choicesContainer.innerHTML = '';
            
            scenario.choices.forEach((choice, choiceIndex) => {
                const choiceBtn = document.createElement('div');
                choiceBtn.className = 'choice-btn';
                choiceBtn.onclick = () => selectScenarioChoice(choiceIndex);
                choiceBtn.innerHTML = `
                    <div class="choice-icon">${String.fromCharCode(65 + choiceIndex)}</div>
                    <div class="choice-content">
                        <div class="choice-title">${choice.title}</div>
                        <div class="choice-desc">${choice.description}</div>
                    </div>
                `;
                choicesContainer.appendChild(choiceBtn);
            });
            
            // Reset feedback and next button
            document.getElementById('scenario-feedback').classList.remove('show');
            document.getElementById('next-scenario-btn').style.display = 'none';
            
            // Update stats
            updateScenarioStats();
        }

        function selectScenarioChoice(choiceIndex) {
            const scenario = scenarios[moduleState.currentScenarioIndex];
            const choice = scenario.choices[choiceIndex];
            const choiceButtons = document.querySelectorAll('.choice-btn');
            
            // Remove any previous selections
            choiceButtons.forEach(btn => {
                btn.classList.remove('correct', 'incorrect');
            });
            
            // Mark selected choice
            choiceButtons[choiceIndex].classList.add(choice.correct ? 'correct' : 'incorrect');
            
            // Show feedback
            const feedback = document.getElementById('scenario-feedback');
            const feedbackTitle = document.getElementById('feedback-title');
            const feedbackContent = document.getElementById('feedback-content');
            
            if (choice.correct) {
                feedbackTitle.innerHTML = '‚úÖ Safe Choice!';
                moduleState.scenarioScore += choice.points;
            } else {
                feedbackTitle.innerHTML = '‚ùå Risky Choice';
            }
            
            feedbackContent.textContent = choice.feedback;
            feedback.classList.add('show');
            
            // Show next scenario button if available
            const nextBtn = document.getElementById('next-scenario-btn');
            nextBtn.style.display = 'block';
            nextBtn.textContent = moduleState.currentScenarioIndex < scenarios.length - 1 
                ? 'Next Scenario ‚Üí' 
                : 'Finish Scenarios ‚Üí';
            
            // Update stats
            updateScenarioStats();
        }

        function nextScenario() {
            if (moduleState.currentScenarioIndex < scenarios.length - 1) {
                loadScenario(moduleState.currentScenarioIndex + 1);
            } else {
                // All scenarios completed
                document.getElementById('scenario-completed').textContent = `${scenarios.length}/${scenarios.length}`;
                alert(`All scenarios completed! You earned ${moduleState.scenarioScore} safety points.`);
            }
        }

        function restartScenario() {
            loadScenario(moduleState.currentScenarioIndex);
        }

        function updateScenarioStats() {
            document.getElementById('scenario-score').textContent = moduleState.scenarioScore;
            document.getElementById('scenario-completed').textContent = `${moduleState.currentScenarioIndex}/${scenarios.length}`;
        }

        // ========== TIMER MANAGEMENT ==========
        let moduleTimer;
        let timeLeft = 600; // 10 minutes

        function startTimer() {
            moduleTimer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    completeModule();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // ========== SECTION NAVIGATION ==========
        function showSection(sectionNum) {
            moduleState.currentSection = sectionNum;
            
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Update navigation
            document.querySelectorAll('.nav-step').forEach((step, index) => {
                step.classList.remove('active');
                if (index === sectionNum - 1) {
                    step.classList.add('active');
                }
            });
            
            // Show selected section
            document.getElementById(`section-${sectionNum}`).classList.add('active');
            
            // Initialize scenario game if on section 3
            if (sectionNum === 3) {
                loadScenario(0);
            }
        }

        // ========== QUIZ SYSTEM ==========
        const quizQuestions = [
            {
                question: "What percentage of all traffic crashes involve aggressive driving behaviors?",
                options: ["About 10%", "About 20%", "About 33% (one-third)", "About 50%"],
                correct: 2,
                explanation: "‚úÖ Correct! NHTSA reports aggressive driving plays a role in approximately one-third of all traffic crashes."
            },
            {
                question: "What is the safest response to a tailgating driver?",
                options: ["Brake check to teach them a lesson", "Speed up to get away from them", "Maintain speed and let them pass when safe", "Flash your brake lights repeatedly"],
                correct: 2,
                explanation: "‚úÖ Right! Maintain your speed and safely let them pass. Aggressive responses increase danger for everyone."
            },
            {
                question: "Which factor is NOT a common cause of aggressive driving?",
                options: ["Traffic congestion", "Running late", "Good weather conditions", "Sense of anonymity"],
                correct: 2,
                explanation: "‚úÖ Correct! Good weather doesn't cause aggression. Traffic, lateness, and anonymity are major contributors."
            },
            {
                question: "What should you do if you feel road rage building?",
                options: ["Take it out on other drivers", "Pull over and take deep breaths", "Drive faster to release energy", "Play loud aggressive music"],
                correct: 1,
                explanation: "‚úÖ Perfect! Pulling over to calm down is the only safe option when you feel road rage."
            }
        ];

        let currentQuestion = 0;
        let selectedAnswer = null;

        function loadQuestion() {
            const question = quizQuestions[currentQuestion];
            document.getElementById('question-text').textContent = question.question;
            
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'quiz-option';
                optionDiv.onclick = () => selectAnswer(index);
                optionDiv.innerHTML = `
                    <div class="option-label">${String.fromCharCode(65 + index)}</div>
                    <div>${option}</div>
                `;
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('quiz-feedback').style.display = 'none';
            document.getElementById('check-btn').style.display = 'block';
            document.getElementById('next-btn').style.display = 'none';
            selectedAnswer = null;
        }

        function selectAnswer(index) {
            selectedAnswer = index;
            
            document.querySelectorAll('.quiz-option').forEach((option, i) => {
                option.classList.remove('selected');
                if (i === index) {
                    option.classList.add('selected');
                }
            });
        }

        function checkAnswer() {
            if (selectedAnswer === null) {
                alert('Please select an answer first!');
                return;
            }

            const question = quizQuestions[currentQuestion];
            const isCorrect = selectedAnswer === question.correct;
            
            moduleState.totalQuestions++;
            if (isCorrect) {
                moduleState.quizScore++;
                document.getElementById('feedback-title').innerHTML = '‚úÖ Correct!';
                document.getElementById('feedback-message').textContent = question.explanation;
            } else {
                document.getElementById('feedback-title').innerHTML = '‚ùå Incorrect';
                document.getElementById('feedback-message').textContent = question.explanation;
            }
            
            // Show correct answer
            document.querySelectorAll('.quiz-option').forEach((option, i) => {
                if (i === question.correct) {
                    option.classList.add('correct');
                } else if (i === selectedAnswer && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            document.getElementById('quiz-feedback').style.display = 'block';
            document.getElementById('check-btn').style.display = 'none';
            document.getElementById('next-btn').style.display = 'block';
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < quizQuestions.length) {
                loadQuestion();
            } else {
                completeModule();
            }
        }

        // ========== COMPLETION ==========
        function completeModule() {
            clearInterval(moduleTimer);
            
            // Calculate stats
            const accuracy = moduleState.totalQuestions > 0 
                ? Math.round((moduleState.quizScore / moduleState.totalQuestions) * 100)
                : 0;
            
            const minutes = Math.floor((600 - timeLeft) / 60);
            const seconds = (600 - timeLeft) % 60;
            
            // Update completion screen
            document.getElementById('time-stat').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('quiz-stat').textContent = `${accuracy}%`;
            document.getElementById('scenario-stat').textContent = moduleState.scenarioScore;
            
            // Show completion screen
            document.getElementById('completion-screen').classList.add('active');
            
            // Hide other sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
        }

        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', function() {
            startTimer();
            loadQuestion();
            loadScenario(0);
        });
    </script>
</body>
</html>
