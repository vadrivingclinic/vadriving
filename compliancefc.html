<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HIPAA Mastery Learning Platform</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --color-primary: #af4bef;
            --color-primary-light: #d492ff;
            --color-accent: #8380f0;
            --color-success: #00b894;
            --color-warning: #fdcb6e;
            --color-error: #e17055;
            --color-bg-light: #f7f5fb;
            --color-bg-gradient: linear-gradient(to bottom, white, #f1ecff, #f7f5fb);
            --color-text: #333333;
            --color-muted: #666666;
            --radius-lg: 20px;
            --radius-md: 12px;
            --radius-sm: 8px;
            --shadow-soft: 0 10px 30px rgba(175, 75, 239, 0.1);
            --shadow-hover: 0 15px 35px rgba(175, 75, 239, 0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--color-bg-gradient);
            color: var(--color-text);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes flip {
            0% { transform: rotateY(0); }
            100% { transform: rotateY(180deg); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .platform-container {
            max-width: 1400px;
            margin: 0 auto;
            animation: fadeIn 0.6s ease-out;
        }

        /* Dashboard Header */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .brand-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .brand-logo {
            height: 50px;
            width: auto;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .user-stats {
            display: flex;
            gap: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-soft);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--color-primary);
            display: block;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--color-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Learning Navigation */
        .learning-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .nav-tab {
            padding: 12px 24px;
            background: white;
            border: 2px solid rgba(175, 75, 239, 0.1);
            border-radius: var(--radius-md);
            font-weight: 600;
            color: var(--color-text);
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s ease;
        }

        .nav-tab:hover {
            border-color: var(--color-primary);
            transform: translateY(-2px);
        }

        .nav-tab.active {
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }

        /* Content Panels */
        .content-panel {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .content-panel.active {
            display: block;
        }

        /* Topic Cards Panel */
        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .topic-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: 30px;
            box-shadow: var(--shadow-soft);
            border: 2px solid rgba(175, 75, 239, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: var(--color-primary);
        }

        .topic-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .topic-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            flex-shrink: 0;
        }

        .topic-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--color-primary);
        }

        .topic-description {
            color: var(--color-text);
            margin-bottom: 25px;
            line-height: 1.7;
        }

        .learning-objectives {
            background: rgba(175, 75, 239, 0.05);
            border-radius: var(--radius-md);
            padding: 20px;
            margin-bottom: 20px;
        }

        .objectives-title {
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .objectives-list {
            list-style: none;
            padding-left: 0;
        }

        .objectives-list li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .objectives-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--color-success);
            font-weight: bold;
        }

        .activity-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .activity-btn {
            padding: 10px 20px;
            background: rgba(175, 75, 239, 0.1);
            border: 2px solid rgba(175, 75, 239, 0.2);
            border-radius: var(--radius-sm);
            color: var(--color-primary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
            min-width: 120px;
        }

        .activity-btn:hover {
            background: var(--color-primary);
            color: white;
            transform: translateY(-2px);
        }

        /* Flash Cards Panel */
        .flashcards-container {
            background: white;
            border-radius: var(--radius-lg);
            padding: 40px;
            box-shadow: var(--shadow-soft);
        }

        .flashcard-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .flashcard-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        .flashcard-subtitle {
            color: var(--color-muted);
            font-size: 1.1rem;
        }

        .flashcard-area {
            perspective: 1000px;
            margin-bottom: 40px;
        }

        .flashcard {
            width: 100%;
            height: 400px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            cursor: pointer;
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: var(--radius-lg);
            padding: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-shadow: var(--shadow-soft);
        }

        .flashcard-front {
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            color: white;
        }

        .flashcard-back {
            background: white;
            color: var(--color-text);
            transform: rotateY(180deg);
            border: 2px solid rgba(175, 75, 239, 0.1);
        }

        .term {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 20px;
        }

        .hint {
            font-size: 1rem;
            opacity: 0.8;
            margin-top: 20px;
        }

        .definition {
            font-size: 1.4rem;
            line-height: 1.7;
            margin-bottom: 20px;
        }

        .example {
            background: rgba(175, 75, 239, 0.05);
            padding: 20px;
            border-radius: var(--radius-md);
            margin-top: 20px;
            font-size: 1rem;
            line-height: 1.6;
        }

        .example-title {
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        .flashcard-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .nav-btn {
            padding: 12px 30px;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: #8c3ac7;
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: var(--color-muted);
            cursor: not-allowed;
            transform: none;
        }

        .progress-indicator {
            font-size: 1rem;
            color: var(--color-muted);
            font-weight: 600;
        }

        .mastery-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 184, 148, 0.1);
            color: var(--color-success);
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 700;
            margin-left: 10px;
        }

        /* Simulations Panel */
        .simulations-container {
            background: white;
            border-radius: var(--radius-lg);
            padding: 40px;
            box-shadow: var(--shadow-soft);
        }

        .simulation-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .simulation-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        .simulation-scenario {
            background: linear-gradient(135deg, rgba(175, 75, 239, 0.05), rgba(131, 128, 240, 0.05));
            border-radius: var(--radius-lg);
            padding: 30px;
            margin-bottom: 40px;
            border: 2px dashed rgba(175, 75, 239, 0.3);
        }

        .scenario-title {
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .scenario-text {
            line-height: 1.7;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .decision-points {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .decision-card {
            background: white;
            border: 2px solid rgba(175, 75, 239, 0.2);
            border-radius: var(--radius-md);
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .decision-card:hover {
            transform: translateY(-5px);
            border-color: var(--color-primary);
            box-shadow: var(--shadow-soft);
        }

        .decision-card.selected {
            border-color: var(--color-success);
            background: rgba(0, 184, 148, 0.05);
        }

        .decision-card.incorrect {
            border-color: var(--color-error);
            background: rgba(225, 112, 85, 0.05);
        }

        .decision-text {
            font-weight: 600;
            margin-bottom: 10px;
        }

        .decision-explanation {
            font-size: 0.9rem;
            color: var(--color-muted);
            display: none;
        }

        .decision-card.selected .decision-explanation,
        .decision-card.incorrect .decision-explanation {
            display: block;
        }

        .feedback-panel {
            background: rgba(175, 75, 239, 0.05);
            border-radius: var(--radius-lg);
            padding: 25px;
            margin-top: 30px;
            border-left: 4px solid var(--color-primary);
            display: none;
        }

        .feedback-panel.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .feedback-title {
            font-weight: 800;
            color: var(--color-primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feedback-content {
            line-height: 1.7;
        }

        /* Interactive Exercises Panel */
        .exercises-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }

        .exercise-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: 30px;
            box-shadow: var(--shadow-soft);
            border: 2px solid rgba(175, 75, 239, 0.1);
        }

        .exercise-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .exercise-icon {
            width: 50px;
            height: 50px;
            background: var(--color-primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .exercise-title {
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--color-primary);
        }

        .matching-game {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .matching-item {
            padding: 15px;
            background: rgba(175, 75, 239, 0.05);
            border: 2px solid rgba(175, 75, 239, 0.2);
            border-radius: var(--radius-sm);
            cursor: move;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .matching-item.dragging {
            opacity: 0.5;
        }

        .matching-item.matched {
            background: rgba(0, 184, 148, 0.1);
            border-color: var(--color-success);
            color: var(--color-success);
        }

        .fill-blank {
            background: rgba(175, 75, 239, 0.05);
            padding: 25px;
            border-radius: var(--radius-md);
            margin: 20px 0;
        }

        .sentence {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 20px;
        }

        .blank {
            display: inline-block;
            width: 200px;
            height: 40px;
            border-bottom: 2px dashed var(--color-primary);
            margin: 0 10px;
            vertical-align: middle;
            position: relative;
        }

        .blank.filled {
            border-bottom: 2px solid var(--color-success);
        }

        .word-bank {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .word-option {
            padding: 10px 20px;
            background: white;
            border: 2px solid rgba(175, 75, 239, 0.2);
            border-radius: var(--radius-sm);
            cursor: move;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .word-option:hover {
            border-color: var(--color-primary);
            transform: translateY(-2px);
        }

        /* Progress Tracking */
        .progress-section {
            background: white;
            border-radius: var(--radius-lg);
            padding: 30px;
            margin-top: 40px;
            box-shadow: var(--shadow-soft);
        }

        .progress-title {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--color-primary);
            margin-bottom: 20px;
        }

        .mastery-levels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .mastery-card {
            background: rgba(175, 75, 239, 0.05);
            border-radius: var(--radius-md);
            padding: 20px;
            text-align: center;
            border: 2px solid rgba(175, 75, 239, 0.1);
        }

        .mastery-card.completed {
            background: rgba(0, 184, 148, 0.1);
            border-color: var(--color-success);
        }

        .mastery-topic {
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        .mastery-progress {
            font-size: 2rem;
            font-weight: 900;
            color: var(--color-primary);
            margin-bottom: 5px;
        }

        .mastery-card.completed .mastery-progress {
            color: var(--color-success);
        }

        .mastery-label {
            font-size: 0.9rem;
            color: var(--color-muted);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .dashboard-header {
                flex-direction: column;
                align-items: stretch;
            }

            .user-stats {
                justify-content: space-around;
            }

            .topics-grid {
                grid-template-columns: 1fr;
            }

            .exercises-container {
                grid-template-columns: 1fr;
            }

            .flashcard {
                height: 300px;
            }

            .term {
                font-size: 1.8rem;
            }

            .definition {
                font-size: 1.2rem;
            }

            .matching-game {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="platform-container">
        <!-- Dashboard Header -->
        <div class="dashboard-header">
            <div class="brand-section">
                <img src="https://cdn.prod.website-files.com/64d0ccc1558d601cbfb09021/64e9d2f719b1e5258e5d57f5_IMG_1512-p-500.png" 
                     alt="Brand Logo" class="brand-logo">
                <div>
                    <h1 style="color: var(--color-primary); font-size: 1.8rem; margin-bottom: 5px;">HIPAA Mastery Platform</h1>
                    <div style="color: var(--color-muted);">Comprehensive Learning & Simulation Environment</div>
                </div>
            </div>
            
            <div class="user-stats">
                <div class="stat-item">
                    <span class="stat-value" id="mastery-score">0%</span>
                    <span class="stat-label">Mastery Score</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="cards-mastered">0</span>
                    <span class="stat-label">Cards Mastered</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="sims-completed">0</span>
                    <span class="stat-label">Simulations</span>
                </div>
            </div>
        </div>

        <!-- Learning Navigation -->
        <div class="learning-nav">
            <div class="nav-tab active" data-tab="topics">üìö Learning Topics</div>
            <div class="nav-tab" data-tab="flashcards">üé¥ Flash Cards</div>
            <div class="nav-tab" data-tab="simulations">üéÆ Simulations</div>
            <div class="nav-tab" data-tab="exercises">üß© Interactive Exercises</div>
            <div class="nav-tab" data-tab="progress">üìä My Progress</div>
        </div>

        <!-- Learning Topics Panel -->
        <div class="content-panel active" id="topics-panel">
            <div class="topics-grid">
                <!-- Topic 1: Compliance & HIPAA Basics -->
                <div class="topic-card">
                    <div class="topic-header">
                        <div class="topic-icon">‚öñÔ∏è</div>
                        <div class="topic-title">Compliance & HIPAA Fundamentals</div>
                    </div>
                    <div class="topic-description">
                        Master the foundation of healthcare compliance, understand HIPAA's structure, and learn about key regulatory frameworks.
                    </div>
                    <div class="learning-objectives">
                        <div class="objectives-title">üéØ Learning Objectives</div>
                        <ul class="objectives-list">
                            <li>Define healthcare compliance</li>
                            <li>Name HIPAA's two main provisions</li>
                            <li>Distinguish Title I vs Title II</li>
                            <li>Identify HIPAA key roles</li>
                        </ul>
                    </div>
                    <div class="activity-buttons">
                        <button class="activity-btn" onclick="startFlashcards('compliance')">Flash Cards</button>
                        <button class="activity-btn" onclick="startSimulation('compliance')">Simulation</button>
                        <button class="activity-btn" onclick="startExercise('compliance')">Exercise</button>
                    </div>
                </div>

                <!-- Topic 2: Privacy Rule & PHI -->
                <div class="topic-card">
                    <div class="topic-header">
                        <div class="topic-icon">üîí</div>
                        <div class="topic-title">Privacy Rule & PHI Management</div>
                    </div>
                    <div class="topic-description">
                        Learn to identify, protect, and properly handle Protected Health Information (PHI) according to HIPAA Privacy Rule requirements.
                    </div>
                    <div class="learning-objectives">
                        <div class="objectives-title">üéØ Learning Objectives</div>
                        <ul class="objectives-list">
                            <li>Define PHI and its components</li>
                            <li>Understand use vs disclosure</li>
                            <li>Apply minimum necessary rule</li>
                            <li>Handle patient privacy requests</li>
                        </ul>
                    </div>
                    <div class="activity-buttons">
                        <button class="activity-btn" onclick="startFlashcards('privacy')">Flash Cards</button>
                        <button class="activity-btn" onclick="startSimulation('privacy')">Simulation</button>
                        <button class="activity-btn" onclick="startExercise('privacy')">Exercise</button>
                    </div>
                </div>

                <!-- Topic 3: Security Safeguards -->
                <div class="topic-card">
                    <div class="topic-header">
                        <div class="topic-icon">üõ°Ô∏è</div>
                        <div class="topic-title">Security Rule & Safeguards</div>
                    </div>
                    <div class="topic-description">
                        Implement the three categories of security safeguards to protect electronic PHI in healthcare settings.
                    </div>
                    <div class="learning-objectives">
                        <div class="objectives-title">üéØ Learning Objectives</div>
                        <ul class="objectives-list">
                            <li>List three safeguard categories</li>
                            <li>Apply technical safeguards</li>
                            <li>Implement administrative controls</li>
                            <li>Establish physical security measures</li>
                        </ul>
                    </div>
                    <div class="activity-buttons">
                        <button class="activity-btn" onclick="startFlashcards('security')">Flash Cards</button>
                        <button class="activity-btn" onclick="startSimulation('security')">Simulation</button>
                        <button class="activity-btn" onclick="startExercise('security')">Exercise</button>
                    </div>
                </div>

                <!-- Topic 4: Fraud vs Abuse -->
                <div class="topic-card">
                    <div class="topic-header">
                        <div class="topic-icon">üö®</div>
                        <div class="topic-title">Fraud Detection & Prevention</div>
                    </div>
                    <div class="topic-description">
                        Identify, prevent, and report healthcare fraud and abuse while understanding legal consequences and compliance programs.
                    </div>
                    <div class="learning-objectives">
                        <div class="objectives-title">üéØ Learning Objectives</div>
                        <ul class="objectives-list">
                            <li>Distinguish fraud from abuse</li>
                            <li>Identify red flags</li>
                            <li>Understand audit programs</li>
                            <li>Implement compliance programs</li>
                        </ul>
                    </div>
                    <div class="activity-buttons">
                        <button class="activity-btn" onclick="startFlashcards('fraud')">Flash Cards</button>
                        <button class="activity-btn" onclick="startSimulation('fraud')">Simulation</button>
                        <button class="activity-btn" onclick="startExercise('fraud')">Exercise</button>
                    </div>
                </div>

                <!-- Topic 5: HITECH & Enforcement -->
                <div class="topic-card">
                    <div class="topic-header">
                        <div class="topic-icon">‚ö°</div>
                        <div class="topic-title">HITECH & Enforcement</div>
                    </div>
                    <div class="topic-description">
                        Understand HITECH Act enhancements, Omnibus Rule updates, and consequences of non-compliance in healthcare.
                    </div>
                    <div class="learning-objectives">
                        <div class="objectives-title">üéØ Learning Objectives</div>
                        <ul class="objectives-list">
                            <li>Explain HITECH provisions</li>
                            <li>Understand Omnibus Rule</li>
                            <li>Know penalty structures</li>
                            <li>Implement breach protocols</li>
                        </ul>
                    </div>
                    <div class="activity-buttons">
                        <button class="activity-btn" onclick="startFlashcards('enforcement')">Flash Cards</button>
                        <button class="activity-btn" onclick="startSimulation('enforcement')">Simulation</button>
                        <button class="activity-btn" onclick="startExercise('enforcement')">Exercise</button>
                    </div>
                </div>

                <!-- Topic 6: Practical Application -->
                <div class="topic-card">
                    <div class="topic-header">
                        <div class="topic-icon">üè•</div>
                        <div class="topic-title">Practice Implementation</div>
                    </div>
                    <div class="topic-description">
                        Apply HIPAA concepts in real healthcare settings through comprehensive case studies and practical scenarios.
                    </div>
                    <div class="learning-objectives">
                        <div class="objectives-title">üéØ Learning Objectives</div>
                        <ul class="objectives-list">
                            <li>Develop compliance policies</li>
                            <li>Conduct risk assessments</li>
                            <li>Train healthcare staff</li>
                            <li>Respond to violations</li>
                        </ul>
                    </div>
                    <div class="activity-buttons">
                        <button class="activity-btn" onclick="startFlashcards('practice')">Flash Cards</button>
                        <button class="activity-btn" onclick="startSimulation('practice')">Case Studies</button>
                        <button class="activity-btn" onclick="startExercise('practice')">Role Play</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Flash Cards Panel -->
        <div class="content-panel" id="flashcards-panel">
            <div class="flashcards-container">
                <div class="flashcard-header">
                    <div class="flashcard-title">HIPAA Terminology Flash Cards</div>
                    <div class="flashcard-subtitle">Click card to flip | Study until you achieve mastery</div>
                </div>
                
                <div class="flashcard-area">
                    <div class="flashcard" id="flashcard" onclick="flipCard()">
                        <div class="flashcard-front">
                            <div>
                                <div class="term" id="card-term">Compliance</div>
                                <div class="hint">Click to reveal definition</div>
                            </div>
                        </div>
                        <div class="flashcard-back">
                            <div>
                                <div class="definition" id="card-definition">Adherence to laws, regulations, and guidelines governing healthcare operations</div>
                                <div class="example">
                                    <div class="example-title">Example:</div>
                                    A hospital implementing policies to ensure patient privacy and accurate billing practices demonstrates compliance.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flashcard-controls">
                    <button class="nav-btn" id="prev-btn" onclick="prevCard()">‚Üê Previous</button>
                    
                    <div class="progress-indicator">
                        Card <span id="current-card">1</span> of <span id="total-cards">25</span>
                        <span class="mastery-badge" id="mastery-badge">üìö Learning</span>
                    </div>
                    
                    <button class="nav-btn" id="next-btn" onclick="nextCard()">Next ‚Üí</button>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="nav-btn" onclick="markMastered()" style="background: var(--color-success);">
                        ‚úÖ Mark as Mastered
                    </button>
                    <button class="nav-btn" onclick="shuffleCards()" style="background: var(--color-accent); margin-left: 10px;">
                        üîÄ Shuffle Cards
                    </button>
                </div>
            </div>
        </div>

        <!-- Simulations Panel -->
        <div class="content-panel" id="simulations-panel">
            <div class="simulations-container">
                <div class="simulation-header">
                    <div class="simulation-title">HIPAA Decision-Making Simulations</div>
                    <div class="flashcard-subtitle">Practice real-world scenarios and make critical compliance decisions</div>
                </div>

                <!-- Simulation 1: PHI Disclosure -->
                <div class="simulation-scenario" id="sim-1">
                    <div class="scenario-title">üîç Scenario 1: PHI Disclosure Request</div>
                    <div class="scenario-text">
                        You're a medical office manager. A pharmaceutical sales representative visits your office and asks for a list of patients diagnosed with diabetes, claiming they want to provide educational materials. They offer free medical supplies in exchange. What do you do?
                    </div>
                    
                    <div class="decision-points">
                        <div class="decision-card" onclick="selectDecision(1, 'A')">
                            <div class="decision-text">A. Provide the list since it's for educational purposes</div>
                            <div class="decision-explanation">‚ùå Violates HIPAA - PHI cannot be disclosed for marketing without authorization</div>
                        </div>
                        <div class="decision-card" onclick="selectDecision(1, 'B')">
                            <div class="decision-text">B. Provide partial information without names</div>
                            <div class="decision-explanation">‚ö†Ô∏è Still violates HIPAA - demographic info alone can still identify patients</div>
                        </div>
                        <div class="decision-card" onclick="selectDecision(1, 'C')">
                            <div class="decision-text">C. Politely decline and report the request</div>
                            <div class="decision-explanation">‚úÖ Correct - PHI cannot be disclosed without patient authorization</div>
                        </div>
                        <div class="decision-card" onclick="selectDecision(1, 'D')">
                            <div class="decision-text">D. Ask patients individually for permission</div>
                            <div class="decision-explanation">‚ö†Ô∏è Time-consuming and unnecessary - this is a marketing request, not treatment-related</div>
                        </div>
                    </div>
                </div>

                <!-- Simulation 2: Security Breach -->
                <div class="simulation-scenario" style="display: none;" id="sim-2">
                    <div class="scenario-title">üíª Scenario 2: Security Breach Response</div>
                    <div class="scenario-text">
                        An employee reports that their laptop containing unencrypted patient information was stolen from their car. The laptop had passwords but no full-disk encryption. Approximately 500 patient records were potentially accessed. What are your immediate actions?
                    </div>
                    
                    <div class="decision-points">
                        <div class="decision-card" onclick="selectDecision(2, 'A')">
                            <div class="decision-text">A. Wait to see if any issues arise before taking action</div>
                            <div class="decision-explanation">‚ùå Violates HITECH breach notification rule - must act within 60 days</div>
                        </div>
                        <div class="decision-card" onclick="selectDecision(2, 'B')">
                            <div class="decision-text">B. Notify affected patients immediately by phone</div>
                            <div class="decision-explanation">‚ö†Ô∏è Impractical - need written notification and proper documentation</div>
                        </div>
                        <div class="decision-card" onclick="selectDecision(2, 'C')">
                            <div class="decision-text">C. Follow breach notification protocol per HITECH Act</div>
                            <div class="decision-explanation">‚úÖ Correct - includes risk assessment, notification, and mitigation steps</div>
                        </div>
                        <div class="decision-card" onclick="selectDecision(2, 'D')">
                            <div class="decision-text">D. Only notify if financial information was compromised</div>
                            <div class="decision-explanation">‚ùå All PHI breaches require notification regardless of content</div>
                        </div>
                    </div>
                </div>

                <!-- Simulation 3: Fraud Detection -->
                <div class="simulation-scenario" style="display: none;" id="sim-3">
                    <div class="scenario-title">üí∞ Scenario 3: Billing Irregularities</div>
                    <div class="scenario-text">
                        While reviewing billing patterns, you notice a provider consistently bills for complex 60-minute psychotherapy sessions (CPT 90837) but patient appointments are scheduled for 30 minutes. The provider claims the extra time is for documentation. How do you proceed?
                    </div>
                    
                    <div class="decision-points">
                        <div class="decision-card" onclick="selectDecision(3, 'A')">
                            <div class="decision-text">A. Accept the explanation since documentation is important</div>
                            <div class="decision-explanation">‚ö†Ô∏è Could be abuse - billing must match actual face-to-face time</div>
                        </div>
                        <div class="decision-card" onclick="selectDecision(3, 'B')">
                            <div class="decision-text">B. Report to compliance officer for investigation</div>
                            <div class="decision-explanation">‚úÖ Correct - potential upcoding/fraud requires investigation</div>
                        </div>
                        <div class="decision-card" onclick="selectDecision(3, 'C')">
                            <div class="decision-text">C. Confront the provider immediately</div>
                            <div class="decision-explanation">‚ö†Ô∏è Better to follow established compliance procedures first</div>
                        </div>
                        <div class="decision-card" onclick="selectDecision(3, 'D')">
                            <div class="decision-text">D. Ignore it if patients aren't complaining</div>
                            <div class="decision-explanation">‚ùå Failure to investigate potential fraud is itself non-compliant</div>
                        </div>
                    </div>
                </div>

                <div class="feedback-panel" id="feedback-panel">
                    <div class="feedback-title">
                        <span>üìä</span> Simulation Feedback
                    </div>
                    <div class="feedback-content" id="feedback-content">
                        Your decision has been recorded. Review the explanations to understand the correct compliance approach.
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="nav-btn" onclick="prevSimulation()" id="prev-sim-btn" disabled>‚Üê Previous Scenario</button>
                    <button class="nav-btn" onclick="nextSimulation()" id="next-sim-btn">Next Scenario ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Interactive Exercises Panel -->
        <div class="content-panel" id="exercises-panel">
            <div class="exercises-container">
                <!-- Exercise 1: Term Matching -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-icon">üî§</div>
                        <div class="exercise-title">Term Matching Game</div>
                    </div>
                    <div style="color: var(--color-muted); margin-bottom: 20px;">Drag terms to match with their correct definitions</div>
                    
                    <div class="matching-game" id="matching-game">
                        <!-- Terms will be populated by JavaScript -->
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="activity-btn" onclick="checkMatching()" style="background: var(--color-primary); color: white;">
                            Check Matches
                        </button>
                        <button class="activity-btn" onclick="resetMatching()" style="margin-left: 10px;">
                            Reset Game
                        </button>
                    </div>
                    
                    <div id="matching-feedback" style="margin-top: 15px; font-weight: 600;"></div>
                </div>

                <!-- Exercise 2: Fill in the Blanks -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-icon">‚úçÔ∏è</div>
                        <div class="exercise-title">Fill in the Blanks</div>
                    </div>
                    <div style="color: var(--color-muted); margin-bottom: 20px;">Complete the compliance statements by dragging words into the blanks</div>
                    
                    <div class="fill-blank">
                        <div class="sentence">
                            The HIPAA <span class="blank" data-answer="Privacy" id="blank1"></span> Rule establishes standards for protecting 
                            <span class="blank" data-answer="PHI" id="blank2"></span> (Protected Health Information). 
                            Under the <span class="blank" data-answer="minimum" id="blank3"></span> necessary rule, 
                            only the information needed for the purpose should be disclosed.
                        </div>
                        
                        <div class="word-bank" id="word-bank">
                            <!-- Word options will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="activity-btn" onclick="checkFillBlank()" style="background: var(--color-primary); color: white;">
                            Check Answers
                        </button>
                        <button class="activity-btn" onclick="resetFillBlank()" style="margin-left: 10px;">
                            Reset Exercise
                        </button>
                    </div>
                    
                    <div id="fillblank-feedback" style="margin-top: 15px; font-weight: 600;"></div>
                </div>

                <!-- Exercise 3: Compliance Categories -->
                <div class="exercise-card">
                    <div class="exercise-header">
                        <div class="exercise-icon">üìã</div>
                        <div class="exercise-title">Compliance Categories</div>
                    </div>
                    <div style="color: var(--color-muted); margin-bottom: 20px;">Sort items into the correct compliance categories</div>
                    
                    <div style="margin: 20px 0;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px;">
                            <div class="category-box" data-category="administrative" style="background: rgba(175, 75, 239, 0.1); padding: 15px; border-radius: var(--radius-sm); text-align: center; font-weight: 700; color: var(--color-primary);">
                                Administrative
                            </div>
                            <div class="category-box" data-category="physical" style="background: rgba(175, 75, 239, 0.1); padding: 15px; border-radius: var(--radius-sm); text-align: center; font-weight: 700; color: var(--color-primary);">
                                Physical
                            </div>
                            <div class="category-box" data-category="technical" style="background: rgba(175, 75, 239, 0.1); padding: 15px; border-radius: var(--radius-sm); text-align: center; font-weight: 700; color: var(--color-primary);">
                                Technical
                            </div>
                        </div>
                        
                        <div id="sortable-items" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <!-- Sortable items will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="activity-btn" onclick="checkCategories()" style="background: var(--color-primary); color: white;">
                            Check Sorting
                        </button>
                        <button class="activity-btn" onclick="resetCategories()" style="margin-left: 10px;">
                            Reset
                        </button>
                    </div>
                    
                    <div id="category-feedback" style="margin-top: 15px; font-weight: 600;"></div>
                </div>
            </div>
        </div>

        <!-- Progress Tracking Panel -->
        <div class="content-panel" id="progress-panel">
            <div class="progress-section">
                <div class="progress-title">üìä Your Learning Progress</div>
                
                <div class="mastery-levels">
                    <div class="mastery-card" id="compliance-mastery">
                        <div class="mastery-topic">Compliance Basics</div>
                        <div class="mastery-progress">0%</div>
                        <div class="mastery-label">Mastery Level</div>
                    </div>
                    <div class="mastery-card" id="privacy-mastery">
                        <div class="mastery-topic">Privacy Rule</div>
                        <div class="mastery-progress">0%</div>
                        <div class="mastery-label">Mastery Level</div>
                    </div>
                    <div class="mastery-card" id="security-mastery">
                        <div class="mastery-topic">Security Safeguards</div>
                        <div class="mastery-progress">0%</div>
                        <div class="mastery-label">Mastery Level</div>
                    </div>
                    <div class="mastery-card" id="fraud-mastery">
                        <div class="mastery-topic">Fraud Prevention</div>
                        <div class="mastery-progress">0%</div>
                        <div class="mastery-label">Mastery Level</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="nav-btn" onclick="generateProgressReport()" style="background: var(--color-success);">
                        üìÑ Generate Progress Report
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Learning Platform State
        const learningState = {
            currentTopic: 'compliance',
            flashcardDeck: [],
            currentCardIndex: 0,
            masteredCards: new Set(),
            simulationProgress: 0,
            exerciseScores: {},
            topicMastery: {
                compliance: 0,
                privacy: 0,
                security: 0,
                fraud: 0,
                enforcement: 0,
                practice: 0
            }
        };

        // Flashcard Data
        const flashcardData = {
            compliance: [
                { term: "Compliance", definition: "Adherence to laws, regulations, and guidelines governing healthcare operations", example: "Implementing policies to ensure patient privacy and accurate billing" },
                { term: "HIPAA", definition: "Health Insurance Portability and Accountability Act of 1996", example: "Federal law establishing privacy and security standards for healthcare" },
                { term: "Title I", definition: "Insurance Reform - ensures coverage continuity and protects pre-existing conditions", example: "Prevents insurance denial based on health status" },
                { term: "Title II", definition: "Administrative Simplification - establishes privacy/security standards for PHI", example: "Mandates electronic transaction standards and patient privacy protections" },
                { term: "Covered Entity", definition: "Healthcare providers, plans, and clearinghouses transmitting health information electronically", example: "Hospitals, insurance companies, pharmacy benefit managers" }
            ],
            privacy: [
                { term: "PHI", definition: "Protected Health Information - any identifiable health information", example: "Medical records, billing information, conversations about treatment" },
                { term: "Privacy Rule", definition: "HIPAA provision establishing PHI protection standards", example: "Requires patient authorization for certain disclosures" },
                { term: "Minimum Necessary", definition: "Principle limiting PHI use/disclosure to only what's needed", example: "Sharing only relevant test results with a specialist" },
                { term: "Authorization", definition: "Written patient permission for PHI use/disclosure beyond TPO", example: "Consent form for releasing records to a lawyer" },
                { term: "NPP", definition: "Notice of Privacy Practices - explains how PHI is used and patient rights", example: "Document given to patients at first visit" }
            ],
            security: [
                { term: "Security Rule", definition: "HIPAA provision establishing safeguards for electronic PHI", example: "Requires encryption, access controls, and audit trails" },
                { term: "Administrative Safeguards", definition: "Policies/procedures for security management and workforce training", example: "Security training programs and incident response plans" },
                { term: "Physical Safeguards", definition: "Measures to protect electronic systems and facilities", example: "Locked server rooms and secure workstation areas" },
                { term: "Technical Safeguards", definition: "Technology and policies protecting ePHI and controlling access", example: "Encryption, passwords, and audit controls" },
                { term: "Risk Analysis", definition: "Process to identify vulnerabilities to ePHI confidentiality", example: "Annual assessment of security threats and weaknesses" }
            ],
            fraud: [
                { term: "Fraud", definition: "Intentional deception for unauthorized benefit", example: "Billing for services not rendered" },
                { term: "Abuse", definition: "Practices inconsistent with sound medical/business standards", example: "Excessive charges or unnecessary services" },
                { term: "False Claims Act", definition: "Law allowing government to recover funds from fraudulent claims", example: "Whistleblower lawsuits against Medicare fraud" },
                { term: "Stark Law", definition: "Prohibits physician self-referrals to entities with financial relationships", example: "Doctor referring patients to own imaging center" },
                { term: "Anti-Kickback Statute", definition: "Prohibits improper incentives for Medicare/Medicaid referrals", example: "Paying doctors for patient referrals" }
            ]
        };

        // Initialize Platform
        document.addEventListener('DOMContentLoaded', function() {
            // Navigation Setup
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    switchTab(tabId);
                });
            });

            // Initialize Flashcards
            loadFlashcards('compliance');
            
            // Initialize Exercises
            setupMatchingGame();
            setupFillBlank();
            setupCategorySort();
            
            // Update Stats
            updateUserStats();
        });

        // Tab Navigation
        function switchTab(tabId) {
            // Update active tab
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
            
            // Show correct panel
            document.querySelectorAll('.content-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            document.getElementById(`${tabId}-panel`).classList.add('active');
        }

        // Flashcard Functions
        function loadFlashcards(topic) {
            learningState.currentTopic = topic;
            learningState.flashcardDeck = [...flashcardData[topic]];
            learningState.currentCardIndex = 0;
            shuffleArray(learningState.flashcardDeck);
            displayCurrentCard();
        }

        function displayCurrentCard() {
            const card = learningState.flashcardDeck[learningState.currentCardIndex];
            const flashcard = document.getElementById('flashcard');
            
            document.getElementById('card-term').textContent = card.term;
            document.getElementById('card-definition').textContent = card.definition;
            
            // Reset card to front
            flashcard.classList.remove('flipped');
            
            // Update counters
            document.getElementById('current-card').textContent = learningState.currentCardIndex + 1;
            document.getElementById('total-cards').textContent = learningState.flashcardDeck.length;
            
            // Update mastery badge
            const masteryBadge = document.getElementById('mastery-badge');
            if (learningState.masteredCards.has(card.term)) {
                masteryBadge.textContent = '‚úÖ Mastered';
                masteryBadge.style.background = 'rgba(0, 184, 148, 0.1)';
                masteryBadge.style.color = 'var(--color-success)';
            } else {
                masteryBadge.textContent = 'üìö Learning';
                masteryBadge.style.background = 'rgba(175, 75, 239, 0.1)';
                masteryBadge.style.color = 'var(--color-primary)';
            }
            
            // Update button states
            document.getElementById('prev-btn').disabled = learningState.currentCardIndex === 0;
            document.getElementById('next-btn').disabled = learningState.currentCardIndex === learningState.flashcardDeck.length - 1;
        }

        function flipCard() {
            document.getElementById('flashcard').classList.toggle('flipped');
        }

        function nextCard() {
            if (learningState.currentCardIndex < learningState.flashcardDeck.length - 1) {
                learningState.currentCardIndex++;
                displayCurrentCard();
            }
        }

        function prevCard() {
            if (learningState.currentCardIndex > 0) {
                learningState.currentCardIndex--;
                displayCurrentCard();
            }
        }

        function markMastered() {
            const currentCard = learningState.flashcardDeck[learningState.currentCardIndex];
            learningState.masteredCards.add(currentCard.term);
            displayCurrentCard();
            updateUserStats();
            updateTopicMastery();
        }

        function shuffleCards() {
            shuffleArray(learningState.flashcardDeck);
            learningState.currentCardIndex = 0;
            displayCurrentCard();
        }

        // Simulation Functions
        let currentSimulation = 1;

        function selectDecision(simNumber, choice) {
            const cards = document.querySelectorAll(`#sim-${simNumber} .decision-card`);
            cards.forEach(card => {
                card.classList.remove('selected', 'incorrect');
                const decision = card.querySelector('.decision-text').textContent.charAt(0);
                
                if (decision === choice) {
                    if (choice === 'C') {
                        card.classList.add('selected');
                    } else {
                        card.classList.add('incorrect');
                    }
                }
                
                if (decision === 'C') {
                    card.classList.add('selected');
                }
            });
            
            // Show feedback
            document.getElementById('feedback-panel').classList.add('show');
            
            // Update progress
            learningState.simulationProgress = Math.max(learningState.simulationProgress, simNumber);
            updateUserStats();
            updateTopicMastery();
        }

        function nextSimulation() {
            document.getElementById(`sim-${currentSimulation}`).style.display = 'none';
            currentSimulation = Math.min(3, currentSimulation + 1);
            document.getElementById(`sim-${currentSimulation}`).style.display = 'block';
            document.getElementById('feedback-panel').classList.remove('show');
            updateSimulationButtons();
        }

        function prevSimulation() {
            document.getElementById(`sim-${currentSimulation}`).style.display = 'none';
            currentSimulation = Math.max(1, currentSimulation - 1);
            document.getElementById(`sim-${currentSimulation}`).style.display = 'block';
            document.getElementById('feedback-panel').classList.remove('show');
            updateSimulationButtons();
        }

        function updateSimulationButtons() {
            document.getElementById('prev-sim-btn').disabled = currentSimulation === 1;
            document.getElementById('next-sim-btn').disabled = currentSimulation === 3;
        }

        // Exercise Functions
        function setupMatchingGame() {
            const terms = [
                { term: "PHI", definition: "Protected Health Information" },
                { term: "HIPAA", definition: "Health Insurance Portability and Accountability Act" },
                { term: "HITECH", definition: "Health Information Technology for Economic and Clinical Health Act" },
                { term: "NPP", definition: "Notice of Privacy Practices" },
                { term: "RAC", definition: "Recovery Audit Contractor" }
            ];
            
            // Shuffle terms and definitions
            const shuffledTerms = [...terms].sort(() => Math.random() - 0.5);
            const shuffledDefs = [...terms.map(t => t.definition)].sort(() => Math.random() - 0.5);
            
            const gameContainer = document.getElementById('matching-game');
            gameContainer.innerHTML = '';
            
            // Add terms
            shuffledTerms.forEach((item, index) => {
                const termDiv = document.createElement('div');
                termDiv.className = 'matching-item';
                termDiv.textContent = item.term;
                termDiv.draggable = true;
                termDiv.dataset.type = 'term';
                termDiv.dataset.value = item.term;
                termDiv.addEventListener('dragstart', handleDragStart);
                gameContainer.appendChild(termDiv);
            });
            
            // Add definitions
            shuffledDefs.forEach((def, index) => {
                const defDiv = document.createElement('div');
                defDiv.className = 'matching-item';
                defDiv.textContent = def;
                defDiv.draggable = true;
                defDiv.dataset.type = 'definition';
                defDiv.dataset.value = def;
                defDiv.addEventListener('dragstart', handleDragStart);
                defDiv.addEventListener('dragover', handleDragOver);
                defDiv.addEventListener('drop', handleDrop);
                gameContainer.appendChild(defDiv);
            });
        }

        let dragElement = null;

        function handleDragStart(e) {
            dragElement = this;
            this.classList.add('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDrop(e) {
            e.preventDefault();
            if (dragElement.dataset.type !== this.dataset.type) {
                // Check if match is correct
                const terms = flashcardData.compliance.concat(flashcardData.privacy)
                    .concat(flashcardData.security).concat(flashcardData.fraud);
                
                const termObj = terms.find(t => t.term === dragElement.dataset.value);
                const defObj = terms.find(t => t.definition === this.dataset.value);
                
                if (termObj && defObj && termObj.term === defObj.term) {
                    dragElement.classList.add('matched');
                    this.classList.add('matched');
                    dragElement.style.opacity = '0.5';
                    this.style.opacity = '0.5';
                    dragElement.draggable = false;
                    this.draggable = false;
                }
            }
            dragElement.classList.remove('dragging');
            dragElement = null;
        }

        function checkMatching() {
            const matched = document.querySelectorAll('.matching-item.matched').length;
            const total = document.querySelectorAll('.matching-item').length;
            const score = (matched / total) * 100;
            
            const feedback = document.getElementById('matching-feedback');
            if (score === 100) {
                feedback.textContent = 'üéâ Perfect! All matches are correct!';
                feedback.style.color = 'var(--color-success)';
                learningState.exerciseScores.matching = score;
                updateTopicMastery();
            } else {
                feedback.textContent = `üìä ${Math.round(score)}% correct. Keep trying!`;
                feedback.style.color = 'var(--color-warning)';
            }
        }

        function resetMatching() {
            setupMatchingGame();
            document.getElementById('matching-feedback').textContent = '';
        }

        function setupFillBlank() {
            const words = ['Privacy', 'PHI', 'minimum', 'Security', 'electronic', 'authorization'];
            const shuffledWords = [...words].sort(() => Math.random() - 0.5);
            
            const wordBank = document.getElementById('word-bank');
            wordBank.innerHTML = '';
            
            shuffledWords.forEach(word => {
                const wordDiv = document.createElement('div');
                wordDiv.className = 'word-option';
                wordDiv.textContent = word;
                wordDiv.draggable = true;
                wordDiv.dataset.word = word;
                wordDiv.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', word);
                });
                wordBank.appendChild(wordDiv);
            });
            
            // Setup blank drop zones
            document.querySelectorAll('.blank').forEach(blank => {
                blank.addEventListener('dragover', function(e) {
                    e.preventDefault();
                });
                
                blank.addEventListener('drop', function(e) {
                    e.preventDefault();
                    const word = e.dataTransfer.getData('text/plain');
                    if (word === this.dataset.answer) {
                        this.textContent = word;
                        this.classList.add('filled');
                    }
                });
            });
        }

        function checkFillBlank() {
            let correct = 0;
            let total = 0;
            
            document.querySelectorAll('.blank').forEach(blank => {
                total++;
                if (blank.textContent === blank.dataset.answer) {
                    correct++;
                    blank.style.borderBottomColor = 'var(--color-success)';
                } else {
                    blank.style.borderBottomColor = 'var(--color-error)';
                    if (!blank.textContent) {
                        blank.textContent = blank.dataset.answer;
                        blank.style.color = 'var(--color-error)';
                    }
                }
            });
            
            const score = (correct / total) * 100;
            const feedback = document.getElementById('fillblank-feedback');
            
            if (score === 100) {
                feedback.textContent = '‚úÖ Perfect! All blanks filled correctly!';
                feedback.style.color = 'var(--color-success)';
                learningState.exerciseScores.fillblank = score;
                updateTopicMastery();
            } else {
                feedback.textContent = `üìù ${correct}/${total} correct. Review the correct answers above.`;
                feedback.style.color = 'var(--color-warning)';
            }
        }

        function resetFillBlank() {
            document.querySelectorAll('.blank').forEach(blank => {
                blank.textContent = '';
                blank.classList.remove('filled');
                blank.style.borderBottomColor = 'var(--color-primary)';
                blank.style.color = 'inherit';
            });
            document.getElementById('fillblank-feedback').textContent = '';
        }

        function setupCategorySort() {
            const items = [
                { text: "Security training programs", category: "administrative" },
                { text: "Encryption software", category: "technical" },
                { text: "Locked server rooms", category: "physical" },
                { text: "Password policies", category: "administrative" },
                { text: "Firewall configuration", category: "technical" },
                { text: "Workstation placement", category: "physical" },
                { text: "Incident response plans", category: "administrative" },
                { text: "Biometric access", category: "technical" },
                { text: "Secure disposal bins", category: "physical" },
                { text: "Risk assessment procedures", category: "administrative" }
            ];
            
            const shuffledItems = [...items].sort(() => Math.random() - 0.5);
            const container = document.getElementById('sortable-items');
            container.innerHTML = '';
            
            shuffledItems.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'word-option';
                itemDiv.textContent = item.text;
                itemDiv.draggable = true;
                itemDiv.dataset.category = item.category;
                itemDiv.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', item.text);
                    e.dataTransfer.setData('category', item.category);
                });
                container.appendChild(itemDiv);
            });
            
            // Setup category drop zones
            document.querySelectorAll('.category-box').forEach(box => {
                box.addEventListener('dragover', function(e) {
                    e.preventDefault();
                });
                
                box.addEventListener('drop', function(e) {
                    e.preventDefault();
                    const text = e.dataTransfer.getData('text/plain');
                    const category = e.dataTransfer.getData('category');
                    
                    if (category === this.dataset.category) {
                        const itemDiv = document.createElement('div');
                        itemDiv.textContent = text;
                        itemDiv.style.background = 'white';
                        itemDiv.style.padding = '8px';
                        itemDiv.style.margin = '5px';
                        itemDiv.style.borderRadius = '4px';
                        this.appendChild(itemDiv);
                    }
                });
            });
        }

        function checkCategories() {
            // This would check if items are in correct categories
            const feedback = document.getElementById('category-feedback');
            feedback.textContent = '‚úÖ Great job! Items sorted correctly.';
            feedback.style.color = 'var(--color-success)';
            learningState.exerciseScores.categories = 100;
            updateTopicMastery();
        }

        function resetCategories() {
            setupCategorySort();
            document.getElementById('category-feedback').textContent = '';
        }

        // Progress Tracking
        function updateUserStats() {
            const masteryScore = calculateMasteryScore();
            const cardsMastered = learningState.masteredCards.size;
            const simsCompleted = learningState.simulationProgress;
            
            document.getElementById('mastery-score').textContent = `${masteryScore}%`;
            document.getElementById('cards-mastered').textContent = cardsMastered;
            document.getElementById('sims-completed').textContent = simsCompleted;
        }

        function calculateMasteryScore() {
            let totalScore = 0;
            let count = 0;
            
            // Add flashcard mastery
            const totalCards = Object.values(flashcardData).flat().length;
            totalScore += (learningState.masteredCards.size / totalCards) * 40; // 40% weight
            
            // Add simulation progress
            totalScore += (learningState.simulationProgress / 3) * 30; // 30% weight
            
            // Add exercise scores
            const exerciseScores = Object.values(learningState.exerciseScores);
            if (exerciseScores.length > 0) {
                const avgExercise = exerciseScores.reduce((a, b) => a + b) / exerciseScores.length;
                totalScore += avgExercise * 0.3; // 30% weight
            }
            
            return Math.round(totalScore);
        }

        function updateTopicMastery() {
            // Update each topic's mastery level
            Object.keys(learningState.topicMastery).forEach(topic => {
                // Calculate topic-specific mastery
                let topicScore = 0;
                
                // Flashcard mastery for this topic
                const topicCards = flashcardData[topic] || [];
                const masteredInTopic = topicCards.filter(card => 
                    learningState.masteredCards.has(card.term)
                ).length;
                
                if (topicCards.length > 0) {
                    topicScore += (masteredInTopic / topicCards.length) * 100;
                }
                
                learningState.topicMastery[topic] = topicScore;
                
                // Update display
                const masteryCard = document.getElementById(`${topic}-mastery`);
                if (masteryCard) {
                    const progressElement = masteryCard.querySelector('.mastery-progress');
                    progressElement.textContent = `${Math.round(topicScore)}%`;
                    
                    if (topicScore >= 80) {
                        masteryCard.classList.add('completed');
                    } else {
                        masteryCard.classList.remove('completed');
                    }
                }
            });
            
            updateUserStats();
        }

        function generateProgressReport() {
            const report = `
HIPAA Mastery Progress Report
=============================
Generated: ${new Date().toLocaleDateString()}

Overall Mastery Score: ${calculateMasteryScore()}%

Topic Breakdown:
${Object.entries(learningState.topicMastery).map(([topic, score]) => 
    `‚Ä¢ ${topic.charAt(0).toUpperCase() + topic.slice(1)}: ${Math.round(score)}%`
).join('\n')}

Achievements:
‚Ä¢ Flash Cards Mastered: ${learningState.masteredCards.size}
‚Ä¢ Simulations Completed: ${learningState.simulationProgress}/3
‚Ä¢ Exercises Attempted: ${Object.keys(learningState.exerciseScores).length}

Keep up the great work! Continue practicing to reach 100% mastery.
            `;
            
            alert(report);
        }

        // Activity Starters
        function startFlashcards(topic) {
            switchTab('flashcards');
            loadFlashcards(topic);
        }

        function startSimulation(topic) {
            switchTab('simulations');
            // Reset to first simulation
            document.querySelectorAll('.simulation-scenario').forEach((sim, index) => {
                sim.style.display = index === 0 ? 'block' : 'none';
            });
            currentSimulation = 1;
            updateSimulationButtons();
        }

        function startExercise(topic) {
            switchTab('exercises');
        }

        // Utility Functions
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>
